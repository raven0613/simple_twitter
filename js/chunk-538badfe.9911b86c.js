(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-538badfe"],{"099d":function(t,e,r){t.exports=r.p+"img/userinfo_noti.ebada5fd.svg"},"2b28":function(t,e,r){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home__tabs"},[t.userId?e("section",{staticClass:"home__tabs--panel__container"},[e("div",{staticClass:"home__tab home__tab--user",class:{active:"tweet"===t.currentTab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickTab("tweet")}}},[t._v("推文")]),e("div",{staticClass:"home__tab home__tab--user",class:{active:"reply"===t.currentTab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickTab("reply")}}},[t._v("回覆")]),e("div",{staticClass:"home__tab home__tab--user",class:{active:"like"===t.currentTab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickTab("like")}}},[t._v("喜歡的內容")])]):e("section",[e("router-link",{staticClass:"home__tab home__tab--follow",class:{active:"follower"===t.currentTab},attrs:{to:{name:"user-follower"}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickTab("follower")}}},[t._v("追隨者")]),e("router-link",{staticClass:"home__tab home__tab--follow",class:{active:"following"===t.currentTab},attrs:{to:{name:"user-follower"}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleClickTab("following")}}},[t._v("正在追隨")])],1)])},o=[],i={props:{userId:{type:Number},clickedTab:{type:String}},computed:{currentTab(){return this.clickedTab}},methods:{handleClickTab(t){this.$emit("after-click-tab",t)}}},a=i,n=r("2877"),l=Object(n["a"])(a,s,o,!1,null,null,null);e["a"]=l.exports},3793:function(t,e,r){t.exports=r.p+"img/add-photo.0bb91e10.svg"},"3e69":function(t,e,r){"use strict";var s=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header user__header"},[e("div",{staticClass:"user__header--icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$router.back()}}},[e("img",{attrs:{src:r("64a2"),alt:""}})]),t.counts?e("div",{staticClass:"user__header--word"},[e("h5",[t._v(t._s(t.content))]),e("p",[t._v(t._s(t.counts)+" 推文")])]):t._e(),isNaN(t.counts)?e("div",{staticClass:"user__header--title"},[e("h4",[t._v(t._s(t.content))])]):t._e()])},o=[],i={props:{content:{type:String},counts:{type:Number},isTweetModal:{type:Boolean,default:!1},isReplyModal:{type:Boolean,default:!1}}},a=i,n=r("2877"),l=Object(n["a"])(a,s,o,!1,null,null,null);e["a"]=l.exports},5320:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"twitter__project",class:{modal__toggled:t.isModalToggled||t.isReplyModalToggled||t.isEditModalToggled}},[e("div",{staticClass:"container"},[e("section",{staticClass:"left__container"},[e("SideBar",{attrs:{"current-page":"user","ini-is-modal-toggled":t.isModalToggled},on:{"after-toggle-modal":t.handleToggleModal}})],1),e("main",{staticClass:"main__container"},[e("transition",{attrs:{name:"modal-edit"}},[t.isEditModalToggled?e("UserEditModal",{attrs:{initialUser:t.user,initialFormErrorEmail:t.formErrorEmail,initialFormErrorIntroduction:t.formErrorIntroduction},on:{"after-submit-close":t.handleCloseModal,"after-submit":t.handleAfterSubmit,"after-remove-cover-photo":t.handleRemoveCoverPhoto}}):t._e()],1),e("transition",{attrs:{name:"modal"}},[t.isModalToggled?e("MainTweetModal",{on:{"after-submit-close":t.handleCloseModal}}):t._e()],1),e("transition",{attrs:{name:"modal"}},[t.isReplyModalToggled?e("MainReplyModal",{attrs:{"initial-tweet":t.clickedTweet,"is-in-detail-page":!1},on:{"after-submit-close":t.handleCloseModal}}):t._e()],1),e("UserHeader",{attrs:{content:t.user.name,counts:t.tweets.length,"is-tweet-modal":t.isModalToggled,"is-reply-modal":t.isReplyModalToggled}}),t.isUserLoading?e("Spinner"):[t.isUserLoading?t._e():e("UserPanel",{attrs:{"ini-is-modal-toggled":t.isModalToggled,initialUser:t.user},on:{"after-toggle-modal":t.handleToggleEditModal}}),e("HomeTabs",{attrs:{"clicked-tab":t.currentTab,"user-id":t.currentUser.id},on:{"after-click-tab":t.handleClickTab}}),t.isTweetLoading||"tweet"!==t.currentTab?t.isTweetLoading||"reply"!==t.currentTab?t.isTweetLoading||"like"!==t.currentTab?e("Spinner"):e("div",{staticClass:"tweets__container"},[t.likes.length?t._l(t.likes,(function(r){return e("TweetCard",{key:r.id,attrs:{"ini-is-modal-toggled":t.isModalToggled,"initial-tweet":r,user:t.user},on:{"after-toggle-modal":t.handleToggleReplyModal,"after-clicked-reply":t.handlePassTweetData}})})):e("p",[t._v("目前還沒有喜歡的內容")])],2):e("div",{staticClass:"tweets__container"},[t.replies.length?t._l(t.replies,(function(r){return e("ReplyCard",{key:r.id,attrs:{reply:r,user:t.user}})})):e("p",[t._v("目前還沒有回覆")])],2):e("div",{staticClass:"tweets__container"},[t.tweets.length?t._l(t.tweets,(function(r){return e("TweetCard",{key:r.id,attrs:{"ini-is-modal-toggled":t.isModalToggled,"initial-tweet":r},on:{"after-toggle-modal":t.handleToggleReplyModal,"after-clicked-reply":t.handlePassTweetData}})})):e("p",[t._v("目前還沒有推文")])],2)]],2),e("section",{staticClass:"right__container"},[e("RecommendUsers")],1),e("transition",{attrs:{duration:{enter:500,leave:150}}},[t.isModalToggled||t.isReplyModalToggled||t.isEditModalToggled?e("div",{staticClass:"modal__mask",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCloseModal(!1)}}}):t._e()])],1),e("Footer",{attrs:{"current-page":"user","ini-is-modal-toggled":t.isModalToggled},on:{"after-toggle-modal":t.handleToggleModal}})],1)},o=[],i=(r("d9e2"),r("8f7b")),a=r("d88d"),n=r("7c08"),l=r("88fd"),c=r("3e69"),d=r("2b28"),u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal user-edit"},[e("form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"modal__container"},[e("div",{staticClass:"modal__input__container",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCancelClicked.apply(null,arguments)}}},[e("img",{staticClass:"modal__input--last-step",attrs:{src:r("64a2"),alt:""}}),e("img",{staticClass:"modal__input--cancel",attrs:{src:r("16dd"),alt:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCancelClicked.apply(null,arguments)}}}),e("p",{staticClass:"modal__input--title"},[t._v("編輯個人資料")]),e("button",{staticClass:"modal__input--save",attrs:{type:"submit"}},[t._v("儲存")])]),e("div",{staticClass:"user-info__image__container"},[e("div",{staticClass:"user-info__background__container hover__background-controller"},[e("img",{staticClass:"user-info__background--photo",attrs:{src:t._f("emptyImage")(t.user.coverPhoto),alt:""}}),e("div",{staticClass:"hover__background-container"},[e("span",{staticClass:"user-info__background--mask"}),e("div",{staticClass:"user-info__background__icons__container"},[e("button",[e("input",{ref:"coverPhotoInput",staticClass:"form-control-file",staticStyle:{display:"none"},attrs:{type:"file",id:"image",name:"coverPhoto",accept:"image/*"},on:{change:t.handleCoverPhotoChange}}),e("img",{staticClass:"user-info__background__icon",attrs:{src:r("3793"),alt:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$refs.coverPhotoInput.click()}}})]),e("img",{staticClass:"user-info__background__icon",attrs:{src:r("cb07"),alt:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.handleRemoveCoverPhoto.apply(null,arguments)}}})])])]),e("div",{staticClass:"user-info__avatar__container hover__avatar-controller"},[e("img",{staticClass:"user-info__avatar--photo",attrs:{src:t._f("emptyImage")(t.user.profilePhoto),alt:""}}),e("div",{staticClass:"hover__avatar-container"},[e("span",{staticClass:"user-info__avatar--mask"}),e("div",{staticClass:"user-info__avatar__icons__container"},[e("button",[e("input",{ref:"profilePhotoInput",staticClass:"form-control-file",staticStyle:{display:"none"},attrs:{type:"file",id:"image",name:"profilePhoto",accept:"image/*"},on:{change:t.handleProfilePhotoChange}}),e("img",{staticClass:"user-info__background__icon",attrs:{src:r("3793"),alt:""},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$refs.profilePhotoInput.click()}}})])])])])]),e("div",{staticClass:"form form__container"},[e("div",{class:["form__input",{formError:t.formErrorName||t.formErrorNameLimited}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"name"}},[t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],attrs:{id:"name",name:"name",type:"name",placeholder:"John Doe",autocomplete:"name",autofocus:""},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}})]),e("div",{class:["form__input__hint",{form__input__count:!t.formErrorName&&!t.formErrorNameLimited&&t.lengthOfName}]},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorName,expression:"formErrorName"}],staticClass:"form__input__hint-error"},[t._v("名稱欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorNameLimited,expression:"formErrorNameLimited"}],staticClass:"form__input__hint-error"},[t._v("字數超過上限！")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.lengthOfName,expression:"lengthOfName"}],staticClass:"form__input__hint-length montserrat-font"},[t._v(t._s(t.lengthOfName)+"/50")])])]),e("div",{class:["form__input",{formError:t.formErrorIntroduction||t.formErrorIntroductionLimited}],attrs:{id:"introduction__input"}},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"introduction"}},[t._v("自我介紹")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.introduction,expression:"user.introduction"}],attrs:{id:"introduction",name:"introduction",type:"text",placeholder:"談談你自己吧...",autocomplete:"off",autofocus:""},domProps:{value:t.user.introduction},on:{input:function(e){e.target.composing||t.$set(t.user,"introduction",e.target.value)}}})]),e("div",{class:["form__input__hint",{form__input__count:!t.formErrorIntroduction&&!t.formErrorIntroductionLimited&&t.lengthOfIntroduction}]},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorIntroduction,expression:"formErrorIntroduction"}],staticClass:"form__input__hint-error"},[t._v("自我介紹欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorIntroductionLimited,expression:"formErrorIntroductionLimited"}],staticClass:"form__input__hint-error"},[t._v("字數超過上限！")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.lengthOfIntroduction,expression:"lengthOfIntroduction"}],staticClass:"form__input__hint-length montserrat-font"},[t._v(t._s(t.lengthOfIntroduction)+"/160")])])])])])])])},h=[],m=r("2fa3"),_=r("2708"),f={name:"UserEditModal",props:{initialUser:{type:Object,default:()=>({account:"",coverPhoto:"",email:"",introduction:"",name:"",profilePhoto:""})},initialFormErrorAccount:{type:Boolean,default:!1},initialFormErrorEmail:{type:Boolean,default:!1}},mixins:[_["b"]],data(){return{user:{...this.initialUser},formErrorName:!1,formErrorIntroduction:!1,formErrorNameLimited:!1,formErrorIntroductionLimited:!1,lengthOfName:"",lengthOfIntroduction:"",isProcessing:!1}},watch:{initialUser(t){this.user={...this.user,...t}},user:{handler(t){return t.name=t.name.trim(),t.introduction=t.introduction.trim(),this.lengthOfName=t.name.length,this.lengthOfIntroduction=t.introduction.length,t.name.length>0&&(this.formErrorName=!1,this.formErrorNameLimited=!1),t.name.length>=50?(m["a"].fire({html:Object(m["c"])("字數超過上限","error")}),this.user.name=this.user.name.slice(0,50),this.formErrorNameLimited=!0,void console.log(this.user.name)):(this.formErrorNameLimited=!1,t.introduction.length>0&&(this.formErrorIntroduction=!1,this.formErrorIntroductionLimited=!1),t.introduction.length>160?(m["a"].fire({html:Object(m["c"])("字數超過上限","error")}),this.user.introduction=this.user.introduction.slice(0,160),void(this.formErrorIntroductionLimited=!0)):void 0)},deep:!0},initialFormErrorAccount(t){this.formErrorAccount=t},initialFormErrorEmail(t){this.formErrorEmail=t}},created(){this.lengthOfName=this.initialUser.name.length,this.lengthOfIntroduction=this.initialUser.introduction.length},methods:{async handleSubmit(t){if(!this.isProcessing)if(this.isProcessing=!0,this.formErrorName=!1,this.formErrorIntroduction=!1,this.formErrorNameLimited=!1,this.formErrorIntroductionLimited=!1,this.user.name){if(!this.allFalse)try{const e=t.target,r=new FormData(e);console.log(e,r);for(let[t,s]of r.entries())console.log(t+": "+s);this.$emit("after-submit",r),this.formErrorName=!1,this.formErrorIntroduction=!1,this.formErrorNameLimited=!1,this.formErrorIntroductionLimited=!1,this.isProcessing=!1,this.$emit("after-submit-close")}catch(e){const t=e.response.data.message;this.isProcessing=!1,m["a"].fire({html:Object(m["c"])(t,"error")})}}else this.formErrorName=!0},handleCoverPhotoChange(t){const{files:e}=t.target;if(0!==e.length){const t=window.URL.createObjectURL(e[0]);this.user.coverPhoto=t}else this.user.coverPhoto=""},handleProfilePhotoChange(t){const{files:e}=t.target;if(0!==e.length){const t=window.URL.createObjectURL(e[0]);this.user.profilePhoto=t}else this.user.profilePhoto=""},handleCancelClicked(){this.user=this.initialUser,this.$emit("after-submit-close")},async handleRemoveCoverPhoto(){const t=await m["a"].fire({html:Object(m["d"])("您確定嗎？刪除的照片是回不來的喔！"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"確認",timer:void 0});"cancel"!==t.dismiss&&t.value&&(this.user.coverPhoto="",this.$emit("after-remove-cover-photo"),m["a"].fire({html:Object(m["c"])("照片已成功刪除！","succeed")}))}},computed:{allFalse(){return!!(this.formErrorName||this.formErrorIntroduction||this.formErrorNameLimited||this.formErrorIntroductionLimited)}},destroyed(){m["a"].close()}},p=f,g=r("2877"),v=Object(g["a"])(p,u,h,!1,null,null,null),w=v.exports,b=r("3e96"),C=r("6b2a"),y=r("fd2d"),T=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"modal__container user-info__container"},[e("div",{staticClass:"user-info__image__container"},[e("div",{staticClass:"user-info__background__container"},[e("img",{staticClass:"user-info__background--photo",attrs:{src:t._f("emptyImage")(t.user.coverPhoto),alt:""}})]),e("div",{staticClass:"user-info__avatar__container"},[e("img",{staticClass:"user-info__avatar--photo",attrs:{src:t._f("emptyImage")(t.user.profilePhoto),alt:""}})])]),e("div",{staticClass:"user-info__data__container"},[e("div",{staticClass:"user-info__controller"},[t.currentUser.id===t.user.id?e("button",{staticClass:"user-info__controller--edit primbutton primbutton__edit",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleModal.apply(null,arguments)}}},[t._v(" 編輯個人資料 ")]):t._e(),t.currentUser.id!==t.user.id?e("button",{staticClass:"user-info__controller--message"},[e("img",{attrs:{src:r("7613"),alt:""}})]):t._e(),t.currentUser.id!==t.user.id?e("button",{staticClass:"user-info__controller--noti"},[e("img",{attrs:{src:r("099d"),alt:""}})]):t._e(),t.user.isFollowed&&t.currentUser.id!==t.user.id?e("button",{staticClass:"user-info__controller--follow primbutton primbutton__followed",class:{primbutton__followed_processing:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowship(t.user.id)}}},[t._v(" 取消跟隨 ")]):t.user.isFollowed||t.currentUser.id===t.user.id?t._e():e("button",{staticClass:"user-info__controller--follow primbutton primbutton__unfollowed",class:{primbutton__unfollowed_processing:t.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowship(t.user.id)}}},[t._v(" 跟隨 ")])]),e("div",{staticClass:"user-info__panel"},[e("h5",{staticClass:"user-info__panel--name"},[t._v(t._s(t.user.name))]),e("div",{staticClass:"user-info__panel--account"},[t._v("@"+t._s(t.user.account))]),e("div",{staticClass:"user-info__panel--description"},[t._v(" "+t._s(t.user.introduction)+" ")]),e("div",{staticClass:"user-info__panel--follow__container"},[e("router-link",{staticClass:"user-info__panel--follow",attrs:{to:{name:"user-following"}}},[e("span",[t._v(t._s(t.user.followingCounts)+"個")]),e("span",[t._v("跟隨中")])]),e("router-link",{staticClass:"user-info__panel--follow",attrs:{to:{name:"user-follower"}}},[e("span",[t._v(t._s(t.user.followerCounts)+"位")]),e("span",[t._v("跟隨者")])])],1)])])])])},k=[],E=r("8845"),U=r("2f62"),P={name:"UserPanel",props:{iniIsModalToggled:{type:Boolean,required:!0},initialUser:{type:Object,default:()=>({account:"",coverPhoto:"",email:"",introduction:"",name:"",profilePhoto:"",followerCounts:"",followingCounts:"",isFollowed:"",id:-1})}},mixins:[_["b"]],data(){return{isEditModalToggled:this.iniIsModalToggled,user:{...this.initialUser},isProcessing:!1}},watch:{initialUser:{handler:function(t){console.log(t.coverPhoto,t.profilePhoto),this.user={...this.user,...t}},deep:!0}},computed:{...Object(U["b"])(["currentUser","isAuthenticated"])},methods:{toggleModal(){this.isEditModalToggled=!0,this.$emit("after-toggle-modal",this.isEditModalToggled)},async addFollowship(t){try{if(this.isProcessing)return;this.isProcessing=!0;const e=await E["a"].addFollowship({id:t});if(200!==e.status)throw new Error(e.data.message);this.user={...this.user,isFollowed:!0},this.$emit("after-like-user",this.users),this.isProcessing=!1}catch(e){const t=e.response.data.message;return console.log(t),this.isProcessing=!1,m["a"].fire({html:Object(m["c"])(t,"error")})}},async deleteFollowship(t){try{if(this.isProcessing)return;this.isProcessing=!0;const e=await E["a"].deleteFollowship({followingId:t});if(200!==e.status)throw new Error(e.data.message);this.user={...this.user,isFollowed:!1},this.isProcessing=!1}catch(e){const t=e.response.data.message;return console.log(t),this.isProcessing=!1,m["a"].fire({html:Object(m["c"])(t,"error")})}}}},M=P,L=Object(g["a"])(M,T,k,!1,null,null,null),I=L.exports,O=r("2375"),N=r("4cce"),R={components:{TweetCard:i["a"],ReplyCard:a["a"],SideBar:n["a"],RecommendUsers:l["a"],UserHeader:c["a"],HomeTabs:d["a"],UserEditModal:w,Footer:y["a"],UserPanel:I,MainReplyModal:b["a"],MainTweetModal:C["a"],Spinner:O["a"]},data(){return{user:{},tweets:[],replies:[],likes:[],isUserLoading:!0,isTweetLoading:!0,currentTab:"tweet",isModalToggled:!1,isReplyModalToggled:!1,isEditModalToggled:!1,clickedTweet:{},formErrorEmail:!1,formErrorIntroduction:!1}},created(){this.isTweetLoading=!0,this.isUserLoading=!0;const{id:t}=this.$route.params;t?this.fetchUser(t):this.fetchUser(this.currentUser.id),this.getUrl();const{tab:e}=this.$route.query;e&&"tweet"!==e?"reply"===e?this.fetchUserReplies(t):"like"===e&&this.fetchUserLikes(t):this.fetchUserTweets(t),this.currentTab=e},beforeRouteUpdate(t,e,r){this.isTweetLoading=!0,this.isUserLoading=!0;const{id:s}=t.params;this.fetchUser(s);const{tab:o}=t.query;this.currentTab=o,"tweet"===o?this.fetchUserTweets(s):"reply"===o?this.fetchUserReplies(s):"like"===o&&this.fetchUserLikes(s),r()},computed:{...Object(U["b"])(["currentUser","isAuthenticated"]),isLoading(){return!(!this.isTweetLoading&&!this.isUserLoading)}},methods:{async fetchUser(t){try{this.isUserLoading=!0;const e=await N["a"].getUser({userId:t}),{id:r,account:s,coverPhoto:o,email:i,introduction:a,name:n,profilePhoto:l,followerCounts:c,followingCounts:d,isFollowed:u}=e.data;this.user={...this.user,id:r,account:s,coverPhoto:o,email:i,introduction:a,name:n,profilePhoto:l,followerCounts:c,followingCounts:d,isFollowed:u},this.isUserLoading=!1}catch(e){console.log(e),this.isUserLoading=!1,m["a"].fire({html:Object(m["c"])("目前無法取得推文，請稍後再試","error")})}},async fetchUserTweets(t){try{this.isTweetLoading=!0;const e=await N["a"].getUserTweets({userId:t});this.tweets=[...e.data],this.isTweetLoading=!1}catch(e){console.log(e),this.isTweetLoading=!1,m["a"].fire({html:Object(m["c"])("目前無法取得推文，請稍後再試","error")})}},async fetchUserReplies(t){try{this.isTweetLoading=!0;const e=await N["a"].getUserReplies({userId:t});this.replies=[...e.data],this.isTweetLoading=!1}catch(e){console.log(e),this.isTweetLoading=!1,m["a"].fire({html:Object(m["c"])("目前無法取得推文，請稍後再試","error")})}},async fetchUserLikes(t){try{this.isTweetLoading=!0;const e=await N["a"].getUserLikes({userId:t});this.likes=[...e.data],this.isTweetLoading=!1}catch(e){console.log(e),this.isTweetLoading=!1,m["a"].fire({html:Object(m["c"])("目前無法取得推文，請稍後再試","error")})}},async handleAfterSubmit(t){try{console.log("hi",t);const{data:e}=await N["a"].updateProfile({userId:this.currentUser.id,formData:t});if("error"===e.status)throw new Error(e.message);this.fetchUser(this.currentUser.id),this.fetchUserTweets(this.currentUser.id),m["a"].fire({html:Object(m["c"])("成功更新使用者資料","succeed")})}catch(e){const t=e.response.data.message.toLowerCase();console.log(t),t.includes("暱稱字數限制需在 1~ 50 字之內")?this.formErrorAccount=!0:t.includes("自我介紹字數限制需在 1~ 160 字之內")&&(this.formErrorEmail=!0),m["a"].fire({html:Object(m["c"])("目前無法更新使用者資料，請稍後再試","error")})}},handleToggleModal(t){this.isModalToggled=t,history.pushState({name:"new-tweet"},null,"/#/tweets/new")},handleCloseModal(t){this.isModalToggled=!1,this.isReplyModalToggled=!1,this.isEditModalToggled=!1,t||this.$router.back()},handleToggleReplyModal(t){this.isReplyModalToggled=t,history.pushState({name:"new-reply"},null,"/#/reply/new")},handleToggleEditModal(t){this.isEditModalToggled=t,history.pushState({name:"user-edit"},null,"/#/users/edit")},handlePassTweetData(t){this.clickedTweet=t},handleClickTab(t){this.currentTab!==t&&(this.currentTab=t,"tweet"===t?(this.fetchUserTweets(this.user.id),history.replaceState({name:"user-tweet"},null,`/#/users/${this.user.id}?tab=${t}`)):"reply"===t?(this.fetchUserReplies(this.user.id),history.replaceState({name:"user-reply"},null,`/#/users/${this.user.id}?tab=${t}`)):"like"===t&&(this.fetchUserLikes(this.user.id),history.replaceState({name:"user-like"},null,`/#/users/${this.user.id}?tab=${t}`)))},getUrl(){"user-edit"===this.$route.matched[0].name&&(this.isEditModalToggled=!0)},async handleRemoveCoverPhoto(){try{const{data:t}=await N["a"].removeCoverPhoto({userId:this.currentUser.id});console.log(t)}catch(t){m["a"].fire({html:Object(m["c"])("目前無法刪除照片，請稍後再試","error")})}}}},j=R,F=Object(g["a"])(j,s,o,!1,null,null,null);e["default"]=F.exports},7613:function(t,e,r){t.exports=r.p+"img/userinfo_msg.f785b44f.svg"},cb07:function(t,e,r){t.exports=r.p+"img/cancel-white.d387f077.svg"},d88d:function(t,e,r){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reply__container"},[e("div",{staticClass:"tweet__avatar"},[e("router-link",{staticClass:"tweet__avatar--photo",attrs:{to:{name:"user-detail",params:{id:t.reply.UserId},query:{tab:"tweet"}}}},[e("img",{attrs:{src:t._f("emptyImage")(t.reply.User.profilePhoto),alt:""}})])],1),e("div",{staticClass:"tweet__info"},[e("div",{staticClass:"tweet__top"},[e("router-link",{staticClass:"tweet__top--prim",attrs:{to:{name:"user-detail",params:{id:t.reply.UserId},query:{tab:"tweet"}}}},[t._v(t._s(t.reply.User.name))]),e("router-link",{staticClass:"tweet__top--sec",attrs:{to:{name:"user-detail",params:{id:t.reply.UserId},query:{tab:"tweet"}}}},[t._v("@"+t._s(t.reply.User.account))]),e("span",{staticClass:"tweet__top--sec"},[t._v("．"+t._s(t._f("fromNow")(t.reply.createdAt)))])],1),e("div",{staticClass:"tweet__target"},[e("span",{staticClass:"tweet__target--sec"},[t._v("回覆")]),e("router-link",{staticClass:"tweet__target--prim",attrs:{to:{name:"user-detail",params:{id:t.reply.Tweet.User.id},query:{tab:"tweet"}}}},[t._v("@"+t._s(t.reply.Tweet.User.account))])],1),e("div",{staticClass:"tweet__info--content"},[t._v(" "+t._s(t.reply.comment)+" ")])])])},o=[],i=r("2708"),a={props:{reply:{type:Object}},mixins:[i["d"],i["c"],i["b"]]},n=a,l=r("2877"),c=Object(l["a"])(n,s,o,!1,null,null,null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-538badfe.9911b86c.js.map