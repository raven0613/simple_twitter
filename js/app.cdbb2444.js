(function(t){function e(e){for(var r,i,n=e[0],c=e[1],l=e[2],d=0,m=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],r=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var r={},a={app:0},o=[];function i(t){return n.p+"js/"+({}[t]||t)+"."+{"chunk-16c6b58a":"8871f534","chunk-2d0b2706":"49d4776e","chunk-2d0ccbf6":"601b8fda","chunk-4fdb8e4c":"7f6ff90b","chunk-538badfe":"9911b86c","chunk-dbcf4892":"cddc9211"}[t]+".js"}function n(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.e=function(t){var e=[],s=a[t];if(0!==s)if(s)e.push(s[2]);else{var r=new Promise((function(e,r){s=a[t]=[e,r]}));e.push(s[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.src=i(t);var l=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(d);var s=a[t];if(0!==s){if(s){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,s[1](l)}a[t]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},n.m=t,n.c=r,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(s,r,function(e){return t[e]}.bind(null,r));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/simple_twitter/",n.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0072":function(t,e,s){t.exports=s.p+"img/sidebar_user_active.9351d411.svg"},"05d9":function(t,e,s){t.exports=s.p+"img/sidebar_home.0e5b01b2.svg"},"16dd":function(t,e,s){t.exports=s.p+"img/cancel-orange.fe9f4e91.svg"},1832:function(t,e,s){t.exports=s.p+"img/entrance_brand.40330f30.svg"},"1fbc":function(t,e,s){t.exports=s.p+"img/sidebar_home_active.8349202b.svg"},2375:function(t,e,s){"use strict";var r=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"bouncing-loader"},[e("div"),e("div"),e("div")])])}],o=s("2877"),i={},n=Object(o["a"])(i,r,a,!1,null,null,null);e["a"]=n.exports},"26fa":function(t,e,s){t.exports=s.p+"img/sidebar_user.5aeb495e.svg"},2708:function(t,e,s){"use strict";s.d(e,"c",(function(){return o})),s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return c}));var r=s("c1df"),a=s.n(r);const o={filters:{fromNow(t){return t?a()(t).fromNow():"-"}}},i={filters:{detailTime(t){const e=t?new Date(t):new Date;let s,r,a=e.getDate(),o=e.getMonth(),i=e.getFullYear(),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes();return e.getHours()>12?(s="下午",r=e.getHours()-12):(s="上午",r=e.getHours()),`${s} ${r}:${n}．${i}年${o}月${a}日`}}},n={filters:{emptyImage(t){return t||"https://fakeimg.pl/350x220/DFDFDF/?text=No+Image"}}},c={filters:{showDescription(t,e){const s=t.trim().length;return s<e?t:t.slice(0,e)+"..."}}}},"2a52":function(t,e,s){t.exports=s.p+"img/tweet_reply.03d885a1.svg"},"2fa3":function(t,e,s){"use strict";s.d(e,"b",(function(){return l})),s.d(e,"a",(function(){return d})),s.d(e,"c",(function(){return u})),s.d(e,"d",(function(){return m}));var r=s("bc3a"),a=s.n(r),o=s("3d20"),i=s.n(o);const n="https://floating-badlands-66539.herokuapp.com/api",c=a.a.create({baseURL:n});c.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers["Authorization"]="Bearer "+e),t},t=>Promise.reject(t));const l=c,d=i.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3}),u=(t,e)=>`\n  <div class="alert__container">\n    <div class="alert-message">${t}</div>\n    <div class="alert-photo__container alert-photo__container__${e}">\n      <div class="alert-photo alert-photo__${e}"></div>\n    </div>\n  </div>\n  `,m=(t,e)=>`\n  <div class="alert__container">\n    <div class="alert-message">${t}</div>\n    <div class="alert-photo__container alert-photo__container__${e}">\n      <div class="alert-photo alert-photo__${e}"></div>\n    </div>\n  </div>\n  `},"3e96":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"modal__container tweet-modal__container reply-modal__container",class:{modal__show:t.modalToggled}},[e("header",{staticClass:"header modal__header"},[e("div",{staticClass:"user__header--icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCancelClicked.apply(null,arguments)}}},[e("img",{attrs:{src:s("64a2"),alt:""}})]),e("button",{staticClass:"formbutton",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(t.initialTweet.id)}}},[t._v("回覆 ")])]),e("div",{staticClass:"modal__input__container"},[e("img",{staticClass:"modal__input--cancel",attrs:{src:s("16dd"),alt:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCancelClicked.apply(null,arguments)}}})]),e("div",{staticClass:"modal__input--tweet"},[e("div",{staticClass:"tweet__input--avatar__container"},[e("router-link",{staticClass:"tweet__input--avatar",attrs:{to:{name:"user-detail",params:{id:t.initialTweet.User.id},query:{tab:"tweet"}}}},[e("img",{attrs:{src:t._f("emptyImage")(t.initialTweet.User.profilePhoto),alt:""}})]),e("span",{staticClass:"tweet__input--dash"})],1),e("div",{staticClass:"tweet__info"},[e("div",{staticClass:"tweet__top"},[e("router-link",{staticClass:"tweet__top--prim",attrs:{to:{name:"user-detail",params:{id:t.initialTweet.User.id},query:{tab:"tweet"}}}},[t._v(t._s(t.initialTweet.User.name))]),e("router-link",{staticClass:"tweet__top--sec",attrs:{to:{name:"user-detail",params:{id:t.initialTweet.User.id},query:{tab:"tweet"}}}},[t._v("@"+t._s(t.initialTweet.User.account))]),e("router-link",{staticClass:"tweet__top--sec",attrs:{to:{name:"tweet-detail",params:{id:t.initialTweet.id}}}},[t._v("．"+t._s(t._f("fromNow")(t.initialTweet.createdAt)))])],1),e("div",{staticClass:"tweet__info--content"},[t._v(" "+t._s(t.initialTweet.description)+" ")]),e("div",{staticClass:"tweet__target"},[e("span",{staticClass:"tweet__target--sec"},[t._v("回覆給")]),e("router-link",{staticClass:"tweet__target--prim",attrs:{to:{name:"user-detail",params:{id:t.initialTweet.User.id},query:{tab:"tweet"}}}},[t._v("@"+t._s(t.initialTweet.User.account))])],1)])]),e("form",{staticClass:"tweet__input"},[e("div",{staticClass:"tweet__input--info__container"},[e("div",{staticClass:"tweet__input--avatar"},[t.isLoading?t._e():e("img",{attrs:{src:t._f("emptyImage")(t.userprofilePhoto),alt:""}})]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tweetContent,expression:"tweetContent"}],staticClass:"tweet__input--content",attrs:{wrap:"hard",name:"description",type:"text",placeholder:"推你的回覆",autocomplete:"off",autofocus:""},domProps:{value:t.tweetContent},on:{input:function(e){e.target.composing||(t.tweetContent=e.target.value)}}})]),e("div",{staticClass:"tweet__input--button__container"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tweetLength>=140,expression:"tweetLength >= 140"}],staticClass:"tweet__input--warning"},[t._v("字數不可超過"),e("span",{staticClass:"montserrat-font"},[t._v("140")]),t._v("字")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tweetLength<=0,expression:"tweetLength <= 0"}],staticClass:"tweet__input--warning"},[t._v("內容不可空白")]),t.tweetLength<=0?e("button",{staticClass:"tweet__input--button tweet__input--button-dis",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v("回覆")]):e("button",{staticClass:"tweet__input--button",attrs:{type:"submit"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit(t.initialTweet.id)}}},[t._v("回覆")])])])])])},a=[],o=(s("d9e2"),s("14d9"),s("2fa3")),i=s("6783"),n=s("4cce"),c=s("2f62"),l=s("2708"),d={props:{initialTweet:{type:Object,required:!0},isInDetailPage:{type:Boolean,default:!1},modalToggled:{type:Boolean,default:!1}},mixins:[l["d"],l["c"],l["b"]],data(){return{tweetContent:"",userprofilePhoto:"",isLoading:!0,isProcessing:!1}},watch:{tweetContent(t){t.length>=140&&(this.tweetContent=this.tweetContent.slice(0,140))}},created(){this.fetchUser(this.currentUser.id),localStorage.getItem("reply")&&(this.tweetContent=localStorage.getItem("reply"))},destroyed(){localStorage.setItem("reply",this.tweetContent)},computed:{...Object(c["b"])(["currentUser","isAuthenticated"]),tweetLength(){return this.tweetContent?this.tweetContent.length:0}},methods:{async fetchUser(t){try{this.isLoading=!0;const{data:e}=await n["a"].getUser({userId:t});this.userprofilePhoto=e.profilePhoto,this.isLoading=!1}catch(e){return console.log(e.message),this.isLoading=!1,o["a"].fire({html:Object(o["c"])("目前無法取得使用者頭像，請稍後再試","error")})}},async handleSubmit(t){try{if(this.isProcessing)return;this.isProcessing=!0;const e=await i["a"].addReply({id:t,comment:this.tweetContent});if(200!==e.status)throw new Error(e.data.message);this.$emit("after-submit",e.data),this.isInDetailPage||(history.replaceState({name:"tweet-detail"},null,"/#/tweets/"+t),this.$router.push({name:"tweet-detail",params:{id:t}})),o["a"].fire({html:Object(o["c"])("回覆成功","succeed")}),this.isProcessing=!1,this.$emit("after-submit-close",!0),this.tweetContent=""}catch(e){return console.log(e.message),this.$emit("after-submit-close",!1),this.isProcessing=!1,o["a"].fire({html:Object(o["c"])("無法回覆貼文，請稍後再試","error")})}},handleCancelClicked(){this.$emit("after-submit-close",!1)}}},u=d,m=s("2877"),p=Object(m["a"])(u,r,a,!1,null,null,null);e["a"]=p.exports},"3eb7":function(t,e,s){t.exports=s.p+"img/sidebar_tweet_ipad.83173aef.svg"},4678:function(t,e,s){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=o(t);return s(e)}function o(t){if(!s.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id="4678"},"4cc4":function(t,e,s){t.exports=s.p+"img/sidebar_setting.fd87f6ce.svg"},"4cce":function(t,e,s){"use strict";var r=s("2fa3");e["a"]={register({name:t,email:e,account:s,password:a,checkPassword:o}){return r["b"].post("/users",{name:t,email:e,account:s,password:a,checkPassword:o})},login({account:t,password:e}){return r["b"].post("/users/signin",{account:t,password:e})},updateSetting({userId:t,formData:e}){return r["b"].put(`/users/${t}/setting`,e)},updateProfile({userId:t,formData:e}){return console.log(t,e),r["b"].put("/users/"+t,e)},removeCoverPhoto({userId:t}){return r["b"].patch(`/users/${t}/cover`)},getUser({userId:t}){return r["b"].get("/users/"+t)},getCurrentUser(){return r["b"].get("/users")},getUserTweets({userId:t}){return r["b"].get(`/users/${t}/tweets`)},getUserReplies({userId:t}){return r["b"].get(`/users/${t}/replied_tweets`)},getUserLikes({userId:t}){return r["b"].get(`/users/${t}/likes`)},getUserFollowrs({userId:t}){return r["b"].get(`/users/${t}/followers`)},getUserFollowings({userId:t}){return r["b"].get(`/users/${t}/followings`)}}},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},o=[],i=(s("c1e3"),s("2877")),n={},c=Object(i["a"])(n,a,o,!1,null,null,null),l=c.exports,d=s("8c4f"),u=function(){var t=this,e=t._self._c;return e("h1",{staticClass:"notfound"},[t._v("404 Not Found")])},m=[],p={setup(){}},f=p,h=Object(i["a"])(f,u,m,!1,null,null,null),_=h.exports,g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sign-form"},[t._m(0),e("form",{staticClass:"form form__container",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments))}}},[e("div",{class:["form__input",{formError:t.formErrorAccount||t.formErrorAccountExisted}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"account"}},[t._v("帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{id:"account",name:"account",type:"account",placeholder:"請輸入帳號",autocomplete:"username",autofocus:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),e("div",{staticClass:"form__input__hint"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorAccount,expression:"formErrorAccount"}],staticClass:"form__input__hint-error"},[t._v("帳號欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorAccountExisted,expression:"formErrorAccountExisted"}],staticClass:"form__input__hint-error"},[t._v("此帳號已重複註冊")])])]),e("div",{class:["form__input",{formError:t.formErrorName||t.formErrorNameLimited}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"name"}},[t._v("名稱")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{id:"name",name:"name",type:"name",placeholder:"請輸入使用者名稱",autocomplete:"name",autofocus:""},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),e("div",{class:["form__input__hint",{form__input__count:!t.formErrorName&&!t.formErrorNameLimited&&t.lengthOfName}]},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorName,expression:"formErrorName"}],staticClass:"form__input__hint-error"},[t._v("名稱欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorNameLimited,expression:"formErrorNameLimited"}],staticClass:"form__input__hint-error"},[t._v("字數超過上限！")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.lengthOfName,expression:"lengthOfName"}],staticClass:"form__input__hint-length montserrat-font"},[t._v(t._s(t.lengthOfName)+"/50")])])]),e("div",{class:["form__input",{formError:t.formErrorEmail||t.formErrorEmailExisted}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"email"}},[t._v("Email")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{id:"email",name:"email",type:"email",placeholder:"請輸入Email",autocomplete:"email",autofocus:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("div",{staticClass:"form__input__hint"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorEmail,expression:"formErrorEmail"}],staticClass:"form__input__hint-error"},[t._v("Email欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorEmailExisted,expression:"formErrorEmailExisted"}],staticClass:"form__input__hint-error"},[t._v("此Email已重複註冊")])])]),e("div",{class:["form__input",{formError:t.formErrorPassword||t.formErrorPasswordUnmatched}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"password"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",autofocus:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"form__input__hint"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorPassword,expression:"formErrorPassword"}],staticClass:"form__input__hint-error"},[t._v("密碼欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorPasswordUnmatched,expression:"formErrorPasswordUnmatched"}],staticClass:"form__input__hint-error"},[t._v("密碼與確認密碼不符")])])]),e("div",{class:["form__input",{formError:t.formErrorCheckPassword||t.formErrorPasswordUnmatched}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"passwordCheck"}},[t._v("密碼確認")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPassword,expression:"checkPassword"}],attrs:{id:"passwordCheck",name:"checkPassword",type:"password",placeholder:"請再次輸入密碼",autocomplete:"current-password",autofocus:""},domProps:{value:t.checkPassword},on:{input:function(e){e.target.composing||(t.checkPassword=e.target.value)}}})]),e("div",{staticClass:"form__input__hint"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorCheckPassword,expression:"formErrorCheckPassword"}],staticClass:"form__input__hint-error"},[t._v("密碼確認欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorPasswordUnmatched,expression:"formErrorPasswordUnmatched"}],staticClass:"form__input__hint-error"},[t._v("密碼與確認密碼不符")])])]),e("div",{staticClass:"form__button__container"},[e("button",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("註冊")]),e("div",{staticClass:"form__links"},[e("router-link",{staticClass:"form__links--link",attrs:{to:"/login"}},[t._v("取消")])],1)])])])},w=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"entrance entrance__container"},[e("div",{staticClass:"entrance__icon"},[e("img",{attrs:{src:s("1832"),alt:""}})]),e("div",{staticClass:"entrance__title"},[e("h4",[t._v("建立你的帳號")])])])}],v=(s("14d9"),s("2fa3")),b=s("4cce"),C={name:"Register",data(){return{name:"",email:"",account:"",password:"",checkPassword:"",formErrorName:!1,formErrorEmail:!1,formErrorAccount:!1,formErrorPassword:!1,formErrorCheckPassword:!1,formErrorPasswordUnmatched:!1,formErrorAccountExisted:!1,formErrorEmailExisted:!1,formErrorNameLimited:!1,lengthOfName:""}},watch:{name(t){if(console.log(t.length),this.name=t.trim(),this.lengthOfName=t.length,t.length>0&&(this.formErrorName=!1),t.length>=50)return v["a"].fire({html:Object(v["c"])("字數超過上限！","error")}),this.name=this.name.slice(0,50),void(this.formErrorNameLimited=!0);this.formErrorNameLimited=!1},email(t){this.email=t.trim(),t.length>0&&(this.formErrorEmail=!1,this.formErrorEmailExisted=!1)},account(t){this.account=t.trim(),t.length>0&&(this.formErrorAccount=!1,this.formErrorAccountExisted=!1)},password(t){this.password=t.trim(),t.length>0&&(this.formErrorPassword=!1,this.formErrorPasswordUnmatched=!1)},checkPassword(t){this.checkPassword=t.trim(),t.length>0&&(this.formErrorCheckPassword=!1,this.formErrorPasswordUnmatched=!1)}},created(){this.lengthOfName=0},methods:{async handleSubmit(){if(this.formErrorName=!1,this.formErrorEmail=!1,this.formErrorAccount=!1,this.formErrorPassword=!1,this.formErrorCheckPassword=!1,this.formErrorPasswordUnmatched=!1,this.formErrorAccountExisted=!1,this.formErrorNameExisted=!1,this.formErrorNameLimited=!1,this.account||(this.formErrorAccount=!0),this.name||(this.formErrorName=!0),this.email||(this.formErrorEmail=!0),this.password||(this.formErrorPassword=!0),this.checkPassword||(this.formErrorCheckPassword=!0),this.password===this.checkPassword){if(!this.allFalse)try{const{data:t}=await b["a"].register({name:this.name,email:this.email,account:this.account,password:this.password,checkPassword:this.checkPassword});console.log(t),"error"===t.status&&console.log(t.message),this.formErrorName=!1,this.formErrorEmail=!1,this.formErrorAccount=!1,this.formErrorPassword=!1,this.formErrorCheckPassword=!1,this.formErrorPasswordUnmatched=!1,this.formErrorAccountExisted=!1,this.formErrorNameExisted=!1,this.formErrorNameLimited=!1,v["a"].fire({html:Object(v["c"])("建立帳號成功！","succeed")}),this.$router.push("/login")}catch(t){const e=t.response.data.message.toLowerCase();e.includes("account")?this.formErrorAccountExisted=!0:e.includes("email")&&(this.formErrorEmailExisted=!0),v["a"].fire({html:Object(v["c"])(e,"error")})}}else this.formErrorPasswordUnmatched=!0}},computed:{allFalse(){return!!(this.formErrorName||this.formErrorEmail||this.formErrorAccount||this.formErrorPassword||this.formErrorCheckPassword||this.formErrorPasswordUnmatched||this.formErrorAccountExisted||this.formErrorNameExisted||this.formErrorNameLimited)}}},k=C,P=Object(i["a"])(k,g,w,!1,null,null,null),E=P.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sign-form"},[t._m(0),e("form",{staticClass:"form form__container",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments))}}},[e("div",{class:["form__input",{formError:t.formErrorAccount||t.formErrorAccountNotExisted||t.formErrorAccountOrPassword}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"account"}},[t._v("帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],attrs:{id:"account",name:"account",type:"account",placeholder:"請輸入帳號",autocomplete:"username",autofocus:""},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}})]),e("div",{staticClass:"form__input__hint"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorAccount,expression:"formErrorAccount"}],staticClass:"form__input__hint-error"},[t._v("帳號欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorAccountNotExisted,expression:"formErrorAccountNotExisted"}],staticClass:"form__input__hint-error"},[t._v("帳號不存在")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorAccountOrPassword,expression:"formErrorAccountOrPassword"}],staticClass:"form__input__hint-error"},[t._v("帳號或密碼錯誤")])])]),e("div",{class:["form__input",{formError:t.formErrorPassword||t.formErrorAccountOrPassword}]},[e("div",{staticClass:"form__input__container"},[e("label",{attrs:{for:"password"}},[t._v("密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{id:"password",name:"password",type:"password",placeholder:"請輸入密碼",autocomplete:"current-password",autofocus:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("div",{staticClass:"form__input__hint"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorPassword,expression:"formErrorPassword"}],staticClass:"form__input__hint-error"},[t._v("密碼欄位為必填")]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.formErrorAccountOrPassword,expression:"formErrorAccountOrPassword"}],staticClass:"form__input__hint-error"},[t._v("帳號或密碼錯誤")])])]),e("div",{staticClass:"form__button__container"},[e("button",{staticClass:"form__button",attrs:{type:"submit"}},[t._v("登入")]),e("div",{staticClass:"form__links form__links__login"},[e("router-link",{staticClass:"form__links--link",attrs:{to:"/register"}},[t._v("註冊")]),e("span",[t._v("．")]),e("router-link",{staticClass:"form__links--link",attrs:{to:{name:"admin-login"}}},[t._v("後台登入")])],1)])])])},j=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"entrance entrance__container"},[e("div",{staticClass:"entrance__icon"},[e("img",{attrs:{src:s("1832"),alt:""}})]),e("div",{staticClass:"entrance__title"},[e("h4",[t._v("登入 Alphitter")])])])}],T=(s("d9e2"),{name:"Login",data(){return{account:"",password:"",formErrorAccount:!1,formErrorPassword:!1,formErrorAccountNotExisted:!1,formErrorAccountOrPassword:!1}},watch:{account(t){this.account=t.trim(),t.length>0&&(this.formErrorAccount=!1)},password(t){this.password=t.trim(),t.length>0&&(this.formErrorPassword=!1)}},methods:{async handleSubmit(){if(this.formErrorAccount=!1,this.formErrorPassword=!1,this.formErrorAccountNotExisted=!1,this.formErrorAccountOrPassword=!1,this.account||(this.formErrorAccount=!0),this.password||(this.formErrorPassword=!0),!this.allFalse)try{const{data:t}=await b["a"].login({account:this.account,password:this.password}),{userData:e}=t;if(console.log("data:",t,e.role),this.formErrorAccount=!1,this.formErrorPassword=!1,this.formErrorAccountNotExisted=!1,this.formErrorAccountOrPassword=!1,"error"===t.status)throw new Error(t.message);localStorage.setItem("token",t.token),this.$store.commit("setCurrentUser",e),v["a"].fire({html:Object(v["c"])("登入成功","succeed")}),this.$router.push("/main")}catch(t){const e=t.response.data.message;console.log(t.response),e.includes("帳號或密碼錯誤")?this.formErrorAccountOrPassword=!0:e.includes("帳號不存在")&&(this.formErrorAccountNotExisted=!0)}}},computed:{allFalse(){return!!(this.formErrorAccount||this.formErrorPassword||this.formErrorAccountNotExisted||this.formErrorAccountOrPassword)}}}),x=T,U=Object(i["a"])(x,y,j,!1,null,null,null),M=U.exports,A=s("cd56"),O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"twitter__project"},[e("div",{staticClass:"admin-container"},[e("section",{staticClass:"left__container"},[e("SideBarAdmin",{attrs:{"current-page":"tweets"}})],1),e("main",{staticClass:"main__container"},[e("MainHeader",{attrs:{content:"推文清單"}}),t.isLoading?e("Spinner"):e("div",{staticClass:"tweets__container"},[t.tweets.length?t._l(t.tweets,(function(s){return e("AdminTweets",{key:s.id,attrs:{"initial-tweet":s},on:{"after-delete-tweet":t.afterDeleteTweet}})})):e("p",[t._v("目前無任何推文")])],2)],1)]),e("FooterAdmin",{attrs:{"current-page":"main"}})],1)},N=[],L=s("cbdf"),I=s("6b9b"),D=s("dc2a"),S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"admin-tweet__container tweet__container"},[e("div",{staticClass:"tweet__avatar"},[e("img",{staticClass:"tweet__avatar--photo",attrs:{src:t._f("emptyImage")(t.tweet.User.profilePhoto),alt:""}})]),e("div",{staticClass:"tweet__info"},[e("form",{staticClass:"tweet__top",attrs:{action:""}},[e("div",{staticClass:"tweet__top--info"},[e("span",{staticClass:"tweet__top--prim"},[t._v(t._s(t.tweet.User.name))]),e("span",{staticClass:"tweet__top--sec"},[t._v("@"+t._s(t.tweet.User.account))]),e("span",{staticClass:"tweet__top--sec"},[t._v("．"+t._s(t._f("fromNow")(t.tweet.createdAt)))])]),e("button",{staticClass:"tweet__delete",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.adminDeleteTweet(t.tweet.id)}}},[e("img",{attrs:{src:s("7abe"),alt:""}})])]),e("div",{staticClass:"tweet__info--content"},[t._v(" "+t._s(t._f("showDescription")(t.tweet.description,50))+" ")])])])},$=[],z=s("be6c"),F=s("2708"),B={props:{initialTweet:{type:Object}},data(){return{tweet:this.initialTweet}},mixins:[F["d"],F["c"],F["b"]],methods:{async adminDeleteTweet(t){try{const e=await v["a"].fire({html:Object(v["d"])("您確定嗎？刪除的文章是回不來的喔！"),showConfirmButton:!0,showCancelButton:!0,confirmButtonColor:"#3085d6",confirmButtonText:"確認",timer:void 0});if("cancel"===e.dismiss)return;if(e.value){this.$emit("after-delete-tweet",t);const{data:e}=await z["a"].deleteAdminTweets({id:t});if("error"===e.status)throw new Error(e.message)}}catch(e){return console.log(e.response),v["a"].fire({html:Object(v["c"])("目前無法刪除貼文，請稍後再試","error")})}}},destroyed(){v["a"].close()}},R=B,q=Object(i["a"])(R,S,$,!1,null,null,null),H=q.exports,G=s("2375"),J=s("2f62"),Y={components:{SideBarAdmin:L["a"],MainHeader:D["a"],AdminTweets:H,FooterAdmin:I["a"],Spinner:G["a"]},data(){return{tweets:[],isLoading:!0}},created(){this.fetchAdminTweets()},computed:{...Object(J["b"])(["currentUser","isAuthenticated"])},methods:{async fetchAdminTweets(){try{this.isLoading=!0;const{data:t}=await z["a"].getAdminTweets();this.tweets=[...t],this.isLoading=!1}catch(t){return console.log(t),this.isLoading=!1,v["a"].fire({html:Object(v["c"])("無法取得貼文，請稍後再試","error")})}},afterDeleteTweet(t){this.tweets=this.tweets.filter(e=>e.id!==t)}}},K=Y,Q=Object(i["a"])(K,O,N,!1,null,null,null),V=Q.exports;r["a"].use(J["a"]);var W=new J["a"].Store({state:{currentUser:{id:-1,account:"",name:"",email:"",role:""},isAuthenticated:!1,token:""},mutations:{setCurrentUser(t,e){t.currentUser={...t.currentUser,...e},t.isAuthenticated=!0,t.token=localStorage.getItem("token"),console.log("在mutation裡面更新了 currentUser 的資料")},revokeAuthentication(t){console.log("你被登出了"),t.currentUser={},t.isAuthenticated=!1,localStorage.removeItem("token"),t.token=""}},actions:{async fetchCurrentUser({commit:t}){try{console.log("token變了 重新拉取使用者資料");const{data:e}=await b["a"].getCurrentUser();console.log("你的使用者資料是:"),console.log(e);const{account:s,email:r,id:a,name:o,role:i}=e;return t("setCurrentUser",{account:s,email:r,id:a,name:o,role:i}),!0}catch(e){return console.log(e.message),t("revokeAuthentication"),!1}}},modules:{}});r["a"].use(d["a"]);const X=(t,e,s)=>{const r=W.state.currentUser;r&&"admin"!==r.role?s("/not-found"):s()},Z=(t,e,s)=>{const r=W.state.currentUser;r&&"user"!==r.role?s("/not-found"):s()},tt=[{path:"/",name:"root",redirect:"/main",beforeEnter:Z},{path:"/main",name:"main-page",component:A["default"],beforeEnter:Z},{path:"/reply/new",name:"reply-new",redirect:"/main",beforeEnter:Z},{path:"/tweets/new",name:"tweet-new",component:()=>Promise.resolve().then(s.bind(null,"cd56")),beforeEnter:Z},{path:"/tweets/:id",name:"tweet-detail",component:()=>s.e("chunk-4fdb8e4c").then(s.bind(null,"9bc3")),beforeEnter:Z},{path:"/users/edit",name:"user-edit",component:()=>s.e("chunk-538badfe").then(s.bind(null,"5320")),beforeEnter:Z},{path:"/users/:id/follower",name:"user-follower",component:()=>s.e("chunk-16c6b58a").then(s.bind(null,"99b5")),beforeEnter:Z},{path:"/users/:id/following",name:"user-following",component:()=>s.e("chunk-16c6b58a").then(s.bind(null,"99b5")),beforeEnter:Z},{path:"/users/:id",name:"user-detail",component:()=>s.e("chunk-538badfe").then(s.bind(null,"5320")),beforeEnter:Z},{path:"/register",name:"register",component:E},{path:"/settings",name:"settings",component:()=>s.e("chunk-2d0ccbf6").then(s.bind(null,"4ef5")),beforeEnter:Z},{path:"/login",name:"login",component:M},{path:"/admin/login",name:"admin-login",component:()=>s.e("chunk-2d0b2706").then(s.bind(null,"23b1"))},{path:"/admin/tweets",name:"admin-tweet",component:V,beforeEnter:X},{path:"/admin/users",name:"admin-user",component:()=>s.e("chunk-dbcf4892").then(s.bind(null,"6135")),beforeEnter:X},{path:"/admin",name:"admin",redirect:"/admin/tweets",beforeEnter:X},{path:"*",name:"not-found",component:_}],et=new d["a"]({routes:tt});et.beforeEach(async(t,e,s)=>{const r=localStorage.getItem("token"),a=W.state.token;let o=W.state.isAuthenticated;r&&r!==a&&(console.log("我發現你 token 有變喔"),o=await W.dispatch("fetchCurrentUser"));const i=["register","login","admin-login"];o||i.includes(t.name)?o&&i.includes(t.name)?s("/main"):s():s("/login")});var st=et;r["a"].config.productionTip=!1,new r["a"]({router:st,store:W,render:t=>t(l)}).$mount("#app")},"64a2":function(t,e,s){t.exports=s.p+"img/last-step.b801ca3e.svg"},6783:function(t,e,s){"use strict";var r=s("2fa3");e["a"]={getTweets(){return r["b"].get("/tweets")},getTweet({id:t}){return r["b"].get("/tweets/"+t)},getReplies({id:t}){return r["b"].get(`/tweets/${t}/replies`)},addTweet({description:t}){return r["b"].post("/tweets",{description:t})},addReply({id:t,comment:e}){return r["b"].post(`/tweets/${t}/replies`,{comment:e})},addLike({tweet_id:t}){return r["b"].post(`/tweets/${t}/like`,null)},deleteLike({tweet_id:t}){return r["b"].post(`/tweets/${t}/unlike`)}}},"6b2a":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"modal__container tweet-modal__container modal__show"},[e("header",{staticClass:"header modal__header"},[e("div",{staticClass:"user__header--icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCancelClicked.apply(null,arguments)}}},[e("img",{attrs:{src:s("64a2"),alt:""}})]),e("button",{staticClass:"formbutton",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v("推文 ")])]),e("div",{staticClass:"modal__input__container"},[e("img",{staticClass:"modal__input--cancel",attrs:{src:s("16dd"),alt:""},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCancelClicked.apply(null,arguments)}}})]),e("form",{staticClass:"tweet__input",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("div",{staticClass:"tweet__input--info__container"},[e("div",{staticClass:"tweet__input--avatar"},[t.isLoading?t._e():e("img",{attrs:{src:t._f("emptyImage")(t.userprofilePhoto),alt:""}})]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tweetContent,expression:"tweetContent"}],staticClass:"tweet__input--content",attrs:{wrap:"hard",name:"description",type:"text",placeholder:"有什麼新鮮事？",autocomplete:"off",autofocus:""},domProps:{value:t.tweetContent},on:{input:function(e){e.target.composing||(t.tweetContent=e.target.value)}}})]),e("div",{staticClass:"tweet__input--button__container"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.tweetLength>=140,expression:"tweetLength >= 140"}],staticClass:"tweet__input--warning"},[t._v(" 字數不可超過"),e("span",{staticClass:"montserrat-font",staticStyle:{color:"var(--tab-error)"}},[t._v("140")]),t._v("字 ")]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.tweetLength<=0,expression:"tweetLength <= 0"}],staticClass:"tweet__input--warning"},[t._v(" 內容不可空白 ")]),t.tweetLength<=0?e("button",{staticClass:"tweet__input--button tweet__input--button-dis",on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[t._v(" 推文 ")]):e("button",{staticClass:"tweet__input--button",attrs:{type:"submit"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v(" 推文 ")])])])])])},a=[],o=(s("d9e2"),s("14d9"),s("2fa3")),i=s("2708"),n=s("6783"),c=s("4cce"),l=s("2f62"),d={mixins:[i["b"]],props:{isMainPage:{type:Boolean,default:!1}},data(){return{tweetContent:"",userprofilePhoto:"",isLoading:!0,isProcessing:!1}},watch:{tweetContent(t){t.length>=140&&(this.tweetContent=this.tweetContent.slice(0,140))}},created(){this.fetchUser(this.currentUser.id),localStorage.getItem("tweet")&&(this.tweetContent=localStorage.getItem("tweet"))},destroyed(){localStorage.setItem("tweet",this.tweetContent)},computed:{...Object(l["b"])(["currentUser","isAuthenticated"]),tweetLength(){return this.tweetContent?this.tweetContent.length:0}},methods:{async fetchUser(t){try{this.isLoading=!0;const{data:e}=await c["a"].getUser({userId:t});this.userprofilePhoto=e.profilePhoto,this.isLoading=!1}catch(e){return console.log(e.message),this.isLoading=!1,o["a"].fire({html:Object(o["c"])("目前無法取得使用者頭像，請稍後再試","error")})}},async handleSubmit(){try{if(this.isProcessing)return;this.isProcessing=!0;const t=await n["a"].addTweet({description:this.tweetContent});if(200!==t.status)throw new Error(t.data.message);this.$emit("after-submit",t.data),o["a"].fire({html:Object(o["c"])("建立推文成功！","succeed")}),this.isProcessing=!1,this.isMainPage||(history.replaceState({name:"main-page"},null,"/#/main"),this.$router.push({name:"main-page"})),this.$emit("after-submit-close",!1),this.tweetContent=""}catch(t){return console.log(t.message),this.isProcessing=!1,o["a"].fire({html:Object(o["c"])("無法新增推文","error")})}},handleCancelClicked(){this.$emit("after-submit-close")}}},u=d,m=s("2877"),p=Object(m["a"])(u,r,a,!1,null,null,null);e["a"]=p.exports},"6b9b":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer admin-footer"},[e("router-link",{staticClass:"footer__button",attrs:{to:{name:"admin-tweet"}}},["main"===t.currentPage?e("img",{attrs:{src:s("1fbc"),alt:""}}):e("img",{attrs:{src:s("05d9"),alt:""}})]),e("router-link",{staticClass:"footer__button",attrs:{to:{name:"admin-user"}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMainPage("user")}}},["user"===t.currentPage?e("img",{attrs:{src:s("0072"),alt:""}}):e("img",{attrs:{src:s("26fa"),alt:""}})]),e("div",{staticClass:"footer__button",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout.apply(null,arguments)}}},[e("img",{attrs:{src:s("f872"),alt:""}})])],1)},a=[],o=(s("14d9"),s("2f62")),i={props:{currentPage:{type:String}},data(){return{isCurrentUser:!1}},created(){const{id:t}=this.$route.params;this.isCurrentUser=t===t},beforeRouteUpdate(t,e,s){const{id:r}=t.params;r===this.currentUser.id?this.isCurrentUser=!0:this.isCurrentUser=!1,s()},computed:{...Object(o["b"])(["currentUser","isAuthenticated"])},methods:{logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")},handleMainPage(t){if(this.currentPage===t)return history.go(0)}}},n=i,c=s("2877"),l=Object(c["a"])(n,r,a,!1,null,null,null);e["a"]=l.exports},"776b":function(t,e,s){t.exports=s.p+"img/tweet_like.20b9c609.svg"},"7a87":function(t,e,s){t.exports=s.p+"img/sidebar_logo.f7083bbc.svg"},"7abe":function(t,e,s){t.exports=s.p+"img/cancel-gray.2c0272cb.svg"},"7c08":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"side-bar__panel"},[e("div",{staticClass:"side-bar__container"},[e("router-link",{staticClass:"side-bar__icon",attrs:{to:{name:"main-page"}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMainPage("main")}}},[e("img",{attrs:{src:s("7a87"),alt:""}})]),e("router-link",{staticClass:"side-bar__link",class:{link__hover:"main"!==t.currentPage},attrs:{to:{name:"main-page"}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMainPage("main")}}},["main"===t.currentPage?e("img",{attrs:{src:s("1fbc"),alt:""}}):e("img",{attrs:{src:s("05d9"),alt:""}}),e("h5",{class:{sidebar__active:"main"===t.currentPage}},[t._v("首頁")])]),e("router-link",{staticClass:"side-bar__link",class:{link__hover:"user"!==t.currentPage},attrs:{to:{name:"user-detail",params:{id:t.currentUser.id},query:{tab:"tweet"}}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMainPage("user")}}},["user"===t.currentPage&&t.isCurrentUser?e("img",{attrs:{src:s("0072"),alt:""}}):e("img",{attrs:{src:s("26fa"),alt:""}}),e("h5",{class:{sidebar__active:"user"===t.currentPage}},[t._v("個人資料")])]),e("router-link",{staticClass:"side-bar__link",class:{link__hover:"setting"!==t.currentPage},attrs:{to:{name:"settings"}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMainPage("setting")}}},["setting"===t.currentPage?e("img",{attrs:{src:s("d441"),alt:""}}):e("img",{attrs:{src:s("4cc4"),alt:""}}),e("h5",{class:{sidebar__active:"setting"===t.currentPage}},[t._v("設定")])]),e("button",{staticClass:"side-bar__button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleModal.apply(null,arguments)}}},[e("img",{attrs:{src:s("3eb7"),alt:""}}),e("span",[t._v("推文")])]),t.darkMode?e("button",{staticClass:"side-bar__button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.shiftToDarkMode.apply(null,arguments)}}},[e("h5",[t._v("Dark Mode")])]):t._e(),t.darkMode?e("button",{staticClass:"side-bar__button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.shiftToLightMode.apply(null,arguments)}}},[e("h5",[t._v("Light Mode")])]):t._e()],1),e("div",{staticClass:"side-bar__link side-bar__link--logout link__hover",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout.apply(null,arguments)}}},[e("img",{attrs:{src:s("f872"),alt:""}}),e("h5",[t._v("登出")])])])},a=[],o=(s("14d9"),s("2f62")),i={props:{currentPage:{type:String},iniIsModalToggled:{type:Boolean}},data(){return{isModalToggled:this.iniIsModalToggled,darkMode:!1,isCurrentUser:!1}},created(){const{id:t}=this.$route.params;this.isCurrentUser=t===t},beforeRouteUpdate(t,e,s){const{id:r}=t.params;r===this.currentUser.id?this.isCurrentUser=!0:this.isCurrentUser=!1,s()},computed:{...Object(o["b"])(["currentUser","isAuthenticated"])},methods:{toggleModal(){this.isModalToggled=!0,this.$emit("after-toggle-modal",this.isModalToggled)},logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")},shiftToDarkMode(){this.darkMode=!0,document.documentElement.setAttribute("data-theme","dark")},shiftToLightMode(){this.darkMode=!1,document.documentElement.setAttribute("data-theme","light")},handleMainPage(t){if(this.currentPage===t)return history.go(0)}}},n=i,c=s("2877"),l=Object(c["a"])(n,r,a,!1,null,null,null);e["a"]=l.exports},"840d":function(t,e,s){},8845:function(t,e,s){"use strict";var r=s("2fa3");const a=()=>{localStorage.getItem("token")};e["a"]={getTopUsers(){return r["b"].get("/followships/top",{headers:{Authorization:"Bearer "+a()}})},addFollowship({id:t}){return r["b"].post("/followships",{id:t})},deleteFollowship({followingId:t}){return r["b"].delete("/followships/"+t,{headers:{Authorization:"Bearer "+a()}})}}},"88fd":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"recommend__panel"},[e("h4",[t._v("推薦跟隨")]),e("div",{staticClass:"recommend__container"},t._l(t.users,(function(s){return e("router-link",{key:s.id,staticClass:"recommend__user",attrs:{to:{name:"user-detail",params:{id:s.id},query:{tab:"tweet"}}}},[e("div",{staticClass:"recommend__user--avatar"},[e("img",{attrs:{src:t._f("emptyImage")(s.profilePhoto),alt:""}})]),e("div",{staticClass:"recommend__user--info"},[e("p",[t._v(t._s(s.name))]),e("span",[t._v("@"+t._s(s.account))])]),s.isFollowed?e("button",{staticClass:"primbutton primbutton__followed",class:{primbutton__followed_processing:s.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteFollowship(s.id)}}},[t._v("取消跟隨")]):e("button",{staticClass:"primbutton primbutton__unfollowed",class:{primbutton__unfollowed_processing:s.isProcessing},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addFollowship(s.id)}}},[t._v("跟隨")])])})),1)])},a=[],o=(s("d9e2"),s("8845")),i=s("2fa3"),n=s("2708"),c=s("2f62"),l={mixins:[n["b"]],data(){return{users:[]}},created(){this.fecthTopUsers()},computed:{...Object(c["b"])(["currentUser","isAuthenticated"])},methods:{async fecthTopUsers(){try{const{data:t}=await o["a"].getTopUsers();this.users=t.filter(t=>t.id!==this.currentUser.id).slice(0,10).map(t=>({...t,isProcessing:!1}))}catch(t){console.log(t),i["a"].fire({html:Object(i["c"])("目前無法推薦使用者，請稍後再試","error")})}},async addFollowship(t){try{if(this.checkProcessing(t))return;this.changeIsProcessing(t);const e=await o["a"].addFollowship({id:t});if(200!==e.status)throw new Error(e.data.message);this.users=this.users.map(e=>e.id===t?{...e,isFollowed:!0}:e),this.changeIsProcessing(t)}catch(e){const s=e.response.data.message;return this.changeIsProcessing(t),console.log(s),i["a"].fire({html:Object(i["c"])(s,"error")})}},async deleteFollowship(t){try{if(this.checkProcessing(t))return;this.changeIsProcessing(t);const e=await o["a"].deleteFollowship({followingId:t});if(200!==e.status)throw new Error(e.data.message);this.users=this.users.map(e=>e.id===t?{...e,isFollowed:!1}:e),this.changeIsProcessing(t)}catch(e){const s=e.response.data.message;return this.changeIsProcessing(t),console.log(s),i["a"].fire({html:Object(i["c"])(s,"error")})}},changeIsProcessing(t){this.users=this.users.map(e=>t===e.id?{...e,isProcessing:!e.isProcessing}:{...e})},checkProcessing(t){const e=this.users.find(e=>e.id===t);return!!e.isProcessing}}},d=l,u=s("2877"),m=Object(u["a"])(d,r,a,!1,null,null,null);e["a"]=m.exports},"8f7b":function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("router-link",{staticClass:"tweet__container",attrs:{to:{name:"tweet-detail",params:{id:t.tweet.id}}}},[e("div",{staticClass:"tweet__avatar"},[e("router-link",{staticClass:"tweet__avatar--photo",attrs:{to:{name:"user-detail",params:{id:t.tweet.UserId},query:{tab:"tweet"}}}},[e("img",{attrs:{src:t._f("emptyImage")(t.tweet.User.profilePhoto),alt:""}})])],1),e("div",{staticClass:"tweet__info"},[e("div",{staticClass:"tweet__top"},[e("router-link",{staticClass:"tweet__top--prim",attrs:{to:{name:"user-detail",params:{id:t.tweet.UserId},query:{tab:"tweet"}}}},[t._v(t._s(t.tweet.User.name))]),e("router-link",{staticClass:"tweet__top--sec",attrs:{to:{name:"user-detail",params:{id:t.tweet.UserId},query:{tab:"tweet"}}}},[t._v("@"+t._s(t.tweet.User.account))]),e("span",{staticClass:"tweet__top--sec"},[t._v("．"+t._s(t._f("fromNow")(t.tweet.createdAt)))])],1),e("div",{staticClass:"tweet__info--content"},[t._v(" "+t._s(t.tweet.description)+" ")]),e("div",{staticClass:"tweet__bottom"},[e("div",{staticClass:"tweet__bottom--icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleModal.apply(null,arguments)}}},[e("img",{attrs:{src:s("2a52"),alt:""}}),e("span",{staticClass:"montserrat-font"},[t._v(t._s(t.tweet.replyCounts))])]),t.tweet.isLiked?e("div",{staticClass:"tweet__bottom--icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteLike(t.tweet.id)}}},[e("img",{attrs:{src:s("929e"),alt:""}}),e("span",{staticClass:"montserrat-font"},[t._v(t._s(t.tweet.likeCounts))])]):e("div",{staticClass:"tweet__bottom--icon",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addLike(t.tweet.id)}}},[e("img",{attrs:{src:s("776b"),alt:""}}),e("span",{staticClass:"montserrat-font"},[t._v(t._s(t.tweet.likeCounts))])])])])])},a=[],o=s("6783"),i=s("2fa3"),n=s("2708"),c={props:{initialTweet:{type:Object},iniIsModalToggled:{type:Boolean}},mixins:[n["d"],n["c"],n["b"]],data(){return{tweet:this.initialTweet,isModalToggled:this.iniIsModalToggled,isProcessing:!1}},watch:{initialTweet(t){this.tweet={...this.tweet,...t}}},methods:{toggleModal(){this.isModalToggled=!0,this.$emit("after-toggle-modal",this.isModalToggled),this.$emit("after-clicked-reply",this.tweet)},async addLike(t){try{if(this.isProcessing)return;this.isProcessing=!0;const e=await o["a"].addLike({tweet_id:t});console.log(e),this.tweet={...this.tweet,isLiked:!0,likeCounts:this.tweet.likeCounts+1},this.isProcessing=!1}catch(e){console.log(e.message),this.isProcessing=!1,i["a"].fire({html:Object(i["c"])("目前無法操作","error")})}},async deleteLike(t){try{if(this.isProcessing)return;this.isProcessing=!0;const e=await o["a"].deleteLike({tweet_id:t});console.log(e),this.tweet={...this.tweet,isLiked:!1,likeCounts:this.tweet.likeCounts-1},this.isProcessing=!1}catch(e){console.log(e.message),this.isProcessing=!1,i["a"].fire({html:Object(i["c"])("目前無法操作","error")})}}}},l=c,d=s("2877"),u=Object(d["a"])(l,r,a,!1,null,null,null);e["a"]=u.exports},"929e":function(t,e,s){t.exports=s.p+"img/tweet_liked.85a4499b.svg"},be6c:function(t,e,s){"use strict";var r=s("2fa3");const a=()=>{localStorage.getItem("token")};e["a"]={login({account:t,password:e}){return r["b"].post("/admin/signin",{account:t,password:e})},getAdminUsers(){return r["b"].get("/admin/users",{headers:{Authorization:"Bearer "+a()}})},getAdminTweets(){return r["b"].get("/admin/tweets",{headers:{Authorization:"Bearer "+a()}})},deleteAdminTweets({id:t}){return r["b"].delete("/admin/tweets/"+t,{headers:{Authorization:"Bearer "+a()}})}}},c1e3:function(t,e,s){"use strict";s("840d")},cbdf:function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"side-bar__panel side-bar__admin"},[e("div",{staticClass:"side-bar__container"},[e("router-link",{staticClass:"side-bar__icon",attrs:{to:{name:"admin-tweet"}}},[e("img",{attrs:{src:s("7a87"),alt:""}})]),e("router-link",{staticClass:"side-bar__link",class:{link__hover:"tweets"!==t.currentPage},attrs:{to:{name:"admin-tweet"}}},["tweets"===t.currentPage?e("img",{attrs:{src:s("1fbc"),alt:""}}):e("img",{attrs:{src:s("05d9"),alt:""}}),e("h5",{class:{sidebar__active:"tweets"===t.currentPage}},[t._v("推文清單")])]),e("router-link",{staticClass:"side-bar__link",class:{link__hover:"users"!==t.currentPage},attrs:{to:{name:"admin-user"}}},["users"===t.currentPage?e("img",{attrs:{src:s("0072"),alt:""}}):e("img",{attrs:{src:s("26fa"),alt:""}}),e("h5",{class:{sidebar__active:"users"===t.currentPage}},[t._v(" 使用者列表 ")])])],1),e("div",{staticClass:"side-bar__link link__hover",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logout.apply(null,arguments)}}},[e("img",{attrs:{src:s("f872"),alt:""}}),e("h5",[t._v("登出")])])])},a=[],o=(s("14d9"),{name:"SideBarAdmin",props:{currentPage:{type:String}},methods:{logout(){this.$store.commit("revokeAuthentication"),this.$router.push("/login")}}}),i=o,n=s("2877"),c=Object(n["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},cd56:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"twitter__project",class:{modal__toggled:t.isModalToggled||t.isReplyModalToggled}},[e("div",{staticClass:"container"},[e("section",{staticClass:"left__container"},[e("SideBar",{attrs:{"current-page":"main","ini-is-modal-toggled":t.isModalToggled},on:{"after-toggle-modal":t.handleToggleModal}})],1),e("main",{staticClass:"main__container"},[e("transition",{attrs:{name:"modal"}},[t.isReplyModalToggled?e("MainReplyModal",{attrs:{"initial-tweet":t.clickedTweet,"modal-toggled":!0},on:{"after-submit-close":t.handleCloseModal}}):t._e()],1),e("transition",{attrs:{name:"modal"}},[t.isModalToggled?e("MainTweetModal",{attrs:{"is-main-page":!0,"modal-toggled":!0},on:{"after-submit-close":t.handleCloseModal,"after-submit":t.handleAddTweet}}):t._e()],1),e("MainHeader",{attrs:{content:"首頁",user:t.user,"is-mobile":!0}}),e("MainTweetInput",{attrs:{"ini-is-modal-toggled":t.isModalToggled,"user-profile-photo":t.user.profilePhoto},on:{"after-toggle-modal":t.handleToggleModal}}),t.isTweetLoading?e("Spinner"):e("div",{staticClass:"tweets__container"},t._l(t.tweets,(function(s){return e("TweetCard",{key:s.id,attrs:{"ini-is-modal-toggled":t.isModalToggled,"initial-tweet":s},on:{"after-toggle-modal":t.handleToggleReplyModal,"after-clicked-reply":t.handlePassTweetData}})})),1)],1),e("section",{staticClass:"right__container"},[e("RecommendUsers")],1),t.isModalToggled||t.isReplyModalToggled?e("div",{staticClass:"modal__mask",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleCloseModal(!1)}}}):t._e()]),e("Footer",{attrs:{"current-page":"main","ini-is-modal-toggled":t.isModalToggled},on:{"after-toggle-modal":t.handleToggleModal}})],1)},a=[],o=s("8f7b"),i=s("7c08"),n=s("88fd"),c=s("dc2a"),l=s("6b2a"),d=s("3e96"),u=s("fd2d"),m=s("2375"),p=s("6783"),f=s("4cce"),h=s("2f62"),_=s("2fa3"),g=function(){var t=this,e=t._self._c;return e("form",{staticClass:"tweet__input",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleModal.apply(null,arguments)}}},[e("div",{staticClass:"tweet__input--avatar"},[t.isLoading?t._e():e("img",{attrs:{src:t._f("emptyImage")(t.userProfilePhoto),alt:""}})]),e("h5",{staticClass:"tweet__input--content"},[t._v("有什麼新鮮事？")]),t._m(0)])},w=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"tweet__input--button__container"},[e("button",{staticClass:"tweet__input--button",attrs:{type:"submit"}},[t._v("推文")])])}],v=s("2708"),b={props:{iniIsModalToggled:{type:Boolean,required:!0},userProfilePhoto:{type:String}},watch:{userProfilePhoto(){this.isLoading=!1}},mixins:[v["b"]],data(){return{isModalToggled:this.iniIsModalToggled,isLoading:!0}},methods:{toggleModal(){this.isModalToggled=!0,this.$emit("after-toggle-modal",this.isModalToggled)}}},C=b,k=s("2877"),P=Object(k["a"])(C,g,w,!1,null,null,null),E=P.exports,y={components:{TweetCard:o["a"],SideBar:i["a"],RecommendUsers:n["a"],MainHeader:c["a"],MainTweetModal:l["a"],Footer:u["a"],Spinner:m["a"],MainTweetInput:E,MainReplyModal:d["a"]},data(){return{user:{},tweets:[],isModalToggled:!1,isReplyModalToggled:!1,clickedTweet:{},isTweetLoading:!0,isUserLoading:!0}},created(){this.getUrl(),this.fetchTweets(),this.fetchUser(this.currentUser.id)},beforeRouteUpdate(t,e,s){this.getUrl(),s()},computed:{...Object(h["b"])(["currentUser","isAuthenticated"])},methods:{async fetchUser(t){try{this.isUserLoading=!0;const{data:e}=await f["a"].getUser({userId:t});this.user={...e}}catch(e){return console.log(e.message),this.isUserLoading=!1,_["a"].fire({html:Object(_["c"])("無法取得使用者頭像，請稍後再試","error")})}},async fetchTweets(){try{this.isTweetLoading=!0;const t=await p["a"].getTweets();this.tweets=t.data,this.isTweetLoading=!1}catch(t){console.log(t),this.isTweetLoading=!1,_["a"].fire({html:Object(_["c"])("無法取得推文，請稍後再試","error")})}},handleToggleModal(t){this.isModalToggled=t,history.pushState({name:"new-tweet"},null,"/#/tweets/new")},handleCloseModal(t){this.isModalToggled=!1,this.isReplyModalToggled=!1,t||this.$router.back()},handleAddTweet(t){this.tweets=[t,...this.tweets],this.fetchTweets()},handleToggleReplyModal(t){this.isReplyModalToggled=t,history.pushState({name:"new-reply"},null,"/#/reply/new")},handlePassTweetData(t){this.clickedTweet=t},getUrl(){console.log("M getUrl"),"tweet-new"===this.$route.matched[0].name&&(this.isModalToggled=!0)}}},j=y,T=Object(k["a"])(j,r,a,!1,null,null,null);e["default"]=T.exports},d441:function(t,e,s){t.exports=s.p+"img/sidebar_setting_active.43da1691.svg"},dc2a:function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("header",{staticClass:"header main__header"},[e("div",{staticClass:"main__header--icon"},[t.tweetId?e("img",{staticClass:"main__header--icon-back",attrs:{src:s("64a2"),alt:""},on:{click:function(e){return t.$router.back()}}}):t._e(),t.isMobile?e("img",{staticClass:"main__header--icon-avatar",attrs:{src:t._f("emptyImage")(t.user.profilePhoto),alt:""}}):t._e()]),e("div",{staticClass:"main__header--word"},[e("h4",[t._v(t._s(t.content))])])])},a=[],o=s("2708"),i={props:{content:{type:String},tweetId:{type:Number},user:{type:Object},isMobile:{type:Boolean}},mixins:[o["b"]]},n=i,c=s("2877"),l=Object(c["a"])(n,r,a,!1,null,null,null);e["a"]=l.exports},f222:function(t,e,s){t.exports=s.p+"img/sidebar_tweet_mobile.a38b8d38.svg"},f872:function(t,e,s){t.exports=s.p+"img/sidebar_logout.02357431.svg"},fd2d:function(t,e,s){"use strict";var r=function(){var t=this,e=t._self._c;return e("footer",{staticClass:"footer"},[e("router-link",{staticClass:"footer__button",attrs:{to:{name:"main-page"}}},["main"===t.currentPage?e("img",{attrs:{src:s("1fbc"),alt:""}}):e("img",{attrs:{src:s("05d9"),alt:""}})]),e("button",{staticClass:"footer__button",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleModal.apply(null,arguments)}}},[e("img",{attrs:{src:s("f222"),alt:""}})]),e("router-link",{staticClass:"footer__button",attrs:{to:{name:"user-detail",params:{id:t.currentUser.id},query:{tab:"tweet"}}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleMainPage("user")}}},["user"===t.currentPage?e("img",{attrs:{src:s("0072"),alt:""}}):e("img",{attrs:{src:s("26fa"),alt:""}})]),e("router-link",{staticClass:"footer__button",attrs:{to:{name:"settings"}}},["setting"===t.currentPage?e("img",{attrs:{src:s("d441"),alt:""}}):e("img",{attrs:{src:s("4cc4"),alt:""}})])],1)},a=[],o=s("2f62"),i={props:{currentPage:{type:String},iniIsModalToggled:{type:Boolean}},data(){return{isModalToggled:this.iniIsModalToggled,isCurrentUser:!1}},created(){const{id:t}=this.$route.params;this.isCurrentUser=t===t},beforeRouteUpdate(t,e,s){const{id:r}=t.params;r===this.currentUser.id?this.isCurrentUser=!0:this.isCurrentUser=!1,s()},computed:{...Object(o["b"])(["currentUser","isAuthenticated"])},methods:{toggleModal(){this.isModalToggled=!0,this.$emit("after-toggle-modal",this.isModalToggled)},handleMainPage(t){if(this.currentPage===t)return history.go(0)}}},n=i,c=s("2877"),l=Object(c["a"])(n,r,a,!1,null,null,null);e["a"]=l.exports}});
//# sourceMappingURL=app.cdbb2444.js.map