{"version":3,"sources":["webpack:///./src/components/HomeTabs.vue","webpack:///src/components/HomeTabs.vue","webpack:///./src/components/HomeTabs.vue?deca","webpack:///./src/components/HomeTabs.vue?ac9e","webpack:///./src/components/UserHeader.vue","webpack:///src/components/UserHeader.vue","webpack:///./src/components/UserHeader.vue?8874","webpack:///./src/components/UserHeader.vue?b383","webpack:///./src/views/Follow.vue","webpack:///./src/components/UserFollowCard.vue","webpack:///src/components/UserFollowCard.vue","webpack:///./src/components/UserFollowCard.vue?6200","webpack:///./src/components/UserFollowCard.vue?8999","webpack:///src/views/Follow.vue","webpack:///./src/views/Follow.vue?a937","webpack:///./src/views/Follow.vue?02aa"],"names":["render","_vm","this","_c","_self","staticClass","userId","class","active","currentTab","on","$event","stopPropagation","preventDefault","handleClickTab","_v","attrs","name","nativeOn","staticRenderFns","props","type","clickedTab","computed","methods","component","$router","back","require","counts","_s","content","_e","isNaN","isTweetModal","default","isReplyModal","modal__toggled","isModalToggled","handleToggleModal","handleCloseModal","currentUser","isLoading","followers","length","_l","user","key","id","followings","enter","leave","apply","arguments","params","query","tab","_f","profilePhoto","isFollowed","primbutton__followed_processing","isProcessing","deleteFollowship","primbutton__unfollowed_processing","addFollowship","introduction","initFollower","mixins","data","watch","html","console","followingId","components","SideBar","RecommendUsers","UserHeader","MainTweetModal","UserFollowCard","HomeTabs","Footer","Spinner","created","beforeRouteUpdate","next","Toast","history","getUrl"],"mappings":"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ACAD,mCAKA,0BACA,IACA,4BACA,qBAEA,uCAAAE,gBACA,kBACA,gCAEA,cACA,UACAb,eAEA,wCACA,qBAEA,SACA,gCAGA,OAFA,qBACAY,eACA,aACAD,qCCrHwV,I,YCOpV7C,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,oECwDA,GACfgD,YACAC,eACAC,sBACAC,kBACAC,sBACAC,iBACAC,gBACAC,cACAC,gBAEAb,OACA,OACA9D,UACAqC,aACAM,cACAX,kBACAI,aACAjC,wBAGAyE,UACA,SAAAlC,GAAA,mBACA,cACA,cACA,6BACA,sBAEA,+BACA,wBAGAmC,yBACA,kBACA,SAAAnC,GAAA,SACA,cACA,6BACA,sBAEA,+BACA,uBAEAoC,KAEA7D,aACA,mDAEAC,SACA,uBACA,IACA,kBACA,WAAA4C,SAAA,wBAAA9D,WACA,sBACA,kBAEA,SACAiE,uBACA,kBACAc,aACAf,mDAIA,wBACA,IACA,kBACA,WAAAF,SAAA,0BAAA9D,WACA,uBACA,kBAEA,SACAiE,uBACA,kBACAc,aACAf,mDAIA/B,qBACA,sBACA+C,mBAAArE,kBAAA,uBAEAuB,mBACA,wBAEA1B,kBACA,kBACA,gBACA,gCACAwE,sBAAArE,sBAAA,0CAEA,kBACA,iCACAqE,sBAAArE,uBAAA,4CAGAsE,SACAhB,oCACA,8CACA,2BAEA,iDACA,gCChLgV,ICO5U,EAAY,eACd,EACAvE,EACAmB,GACA,EACA,KACA,KACA,MAIa,e","file":"js/chunk-16c6b58a.8871f534.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"home__tabs\"},[(_vm.userId)?_c('section',{staticClass:\"home__tabs--panel__container\"},[_c('div',{staticClass:\"home__tab home__tab--user\",class:{active: _vm.currentTab === 'tweet'},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleClickTab('tweet')}}},[_vm._v(\"推文\")]),_c('div',{staticClass:\"home__tab home__tab--user\",class:{active: _vm.currentTab === 'reply'},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleClickTab('reply')}}},[_vm._v(\"回覆\")]),_c('div',{staticClass:\"home__tab home__tab--user\",class:{active: _vm.currentTab === 'like'},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleClickTab('like')}}},[_vm._v(\"喜歡的內容\")])]):_c('section',[_c('router-link',{staticClass:\"home__tab home__tab--follow\",class:{active: _vm.currentTab === 'follower'},attrs:{\"to\":{name: 'user-follower'}},nativeOn:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleClickTab('follower')}}},[_vm._v(\"追隨者\")]),_c('router-link',{staticClass:\"home__tab home__tab--follow\",class:{active: _vm.currentTab === 'following'},attrs:{\"to\":{name: 'user-follower'}},nativeOn:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleClickTab('following')}}},[_vm._v(\"正在追隨\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"home__tabs\">\n        <section class=\"home__tabs--panel__container\" v-if=\"userId\">\n            <div @click.stop.prevent=\"handleClickTab('tweet')\"\n            class=\"home__tab home__tab--user\"\n            :class=\"{active: currentTab === 'tweet'}\">推文</div>\n<!-- 點了tab就傳emit回去 -->\n            <div @click.stop.prevent=\"handleClickTab('reply')\"\n            class=\"home__tab home__tab--user\"\n            :class=\"{active: currentTab === 'reply'}\">回覆</div>\n\n            <div @click.stop.prevent=\"handleClickTab('like')\"\n            class=\"home__tab home__tab--user\"\n            :class=\"{active: currentTab === 'like'}\">喜歡的內容</div>\n        </section>\n\n        <section v-else>\n            <router-link \n            @click.native.stop.prevent=\"handleClickTab('follower')\"\n            :to=\"{name: 'user-follower'}\" \n            class=\"home__tab home__tab--follow\"\n            :class=\"{active: currentTab === 'follower'}\">追隨者</router-link>\n\n            <router-link \n            @click.native.stop.prevent=\"handleClickTab('following')\" \n            :to=\"{name: 'user-follower'}\" \n            class=\"home__tab home__tab--follow\"\n            :class=\"{active: currentTab === 'following'}\">正在追隨</router-link>\n        </section>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        userId: {\n            type: Number\n        },\n        clickedTab: {\n            type: String\n        }\n    },\n    computed: {\n        currentTab () {\n            return this.clickedTab\n        }\n    },\n    methods: {\n        handleClickTab (clickedTab) {\n            this.$emit('after-click-tab', clickedTab)\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeTabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HomeTabs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HomeTabs.vue?vue&type=template&id=09e4b628&\"\nimport script from \"./HomeTabs.vue?vue&type=script&lang=js&\"\nexport * from \"./HomeTabs.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('header',{staticClass:\"header user__header\"},[_c('div',{staticClass:\"user__header--icon\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$router.back()}}},[_c('img',{attrs:{\"src\":require(\"../assets/images/last-step.svg\"),\"alt\":\"\"}})]),(_vm.counts)?_c('div',{staticClass:\"user__header--word\"},[_c('h5',[_vm._v(_vm._s(_vm.content))]),_c('p',[_vm._v(_vm._s(_vm.counts)+\" 推文\")])]):_vm._e(),(isNaN(_vm.counts))?_c('div',{staticClass:\"user__header--title\"},[_c('h4',[_vm._v(_vm._s(_vm.content))])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <header class=\"header user__header\">\n        <div @click.stop.prevent=\"$router.back()\" class=\"user__header--icon\">\n            <img src=\"../assets/images/last-step.svg\" alt=\"\">\n        </div>\n\n        <div v-if=\"counts\"\n        class=\"user__header--word\">\n            <h5>{{content}}</h5>\n            <p>{{counts}} 推文</p>\n        </div>\n\n        <div v-if=\"isNaN(counts)\"\n        class=\"user__header--title\">\n            <h4>{{ content }}</h4>\n        </div>\n\n    </header>\n</template>\n\n<script>\nexport default {\n    props: {\n        content: {\n            type: String,\n        },\n        counts: {\n            type: Number,\n        },\n        isTweetModal: {\n            type: Boolean,\n            default: false \n        },\n        isReplyModal: {\n            type: Boolean,\n            default: false \n        }\n    },\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserHeader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserHeader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserHeader.vue?vue&type=template&id=723dd03c&\"\nimport script from \"./UserHeader.vue?vue&type=script&lang=js&\"\nexport * from \"./UserHeader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"twitter__project\",class:{modal__toggled: _vm.isModalToggled}},[_c('div',{staticClass:\"container\"},[_c('section',{staticClass:\"left__container\"},[_c('SideBar',{attrs:{\"current-page\":`user`,\"ini-is-modal-toggled\":_vm.isModalToggled},on:{\"after-toggle-modal\":_vm.handleToggleModal}})],1),_c('main',{staticClass:\"main__container\"},[_c('transition',{attrs:{\"name\":\"modal\"}},[(_vm.isModalToggled)?_c('MainTweetModal',{on:{\"after-submit-close\":_vm.handleCloseModal}}):_vm._e()],1),_c('UserHeader',{attrs:{\"content\":_vm.currentUser.name,\"counts\":25}}),_c('HomeTabs',{attrs:{\"clicked-tab\":_vm.currentTab},on:{\"after-click-tab\":_vm.handleClickTab}}),(!_vm.isLoading)?[(_vm.currentTab==='follower')?_c('div',{staticClass:\"tweets__container\"},[(_vm.currentTab==='follower' && !_vm.followers.length)?_c('p',[_vm._v(\"目前還沒有追隨者喔\")]):_vm._e(),_vm._l((_vm.followers),function(user){return _c('UserFollowCard',{key:user.id,attrs:{\"init-follower\":user}})})],2):_vm._e(),(_vm.currentTab==='following')?_c('div',{staticClass:\"tweets__container\"},[(_vm.currentTab==='following' && !_vm.followings.length)?_c('p',[_vm._v(\"目前還沒有追隨任何人喔\")]):_vm._e(),_vm._l((_vm.followings),function(user){return _c('UserFollowCard',{key:user.id,attrs:{\"init-follower\":user}})})],2):_vm._e()]:_c('Spinner')],2),_c('section',{staticClass:\"right__container\"},[_c('RecommendUsers')],1),_c('transition',{attrs:{\"duration\":{ enter: 350, leave: 150 }}},[(_vm.isModalToggled)?_c('div',{staticClass:\"modal__mask\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleCloseModal.apply(null, arguments)}}}):_vm._e()])],1),_c('Footer',{attrs:{\"current-page\":`user`,\"ini-is-modal-toggled\":_vm.isModalToggled},on:{\"after-toggle-modal\":_vm.handleToggleModal}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-link',{staticClass:\"follow-user\",attrs:{\"to\":{ name: 'user-detail', params: {id: _vm.user.id}, query: {tab: 'tweet'}}}},[_c('div',{staticClass:\"tweet__avatar\"},[_c('img',{staticClass:\"tweet__avatar--photo\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.user.profilePhoto),\"alt\":\"\"}})]),_c('div',{staticClass:\"tweet__info\"},[_c('div',{staticClass:\"follow-user__info\"},[_c('span',[_vm._v(_vm._s(_vm.user.name))]),(_vm.user.id !== _vm.currentUser.id)?_c('div',[(!_vm.user.isFollowed)?_c('button',{staticClass:\"primbutton primbutton__unfollowed\",class:{primbutton__unfollowed_processing: _vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowship(_vm.user.id)}}},[_vm._v(\"跟隨\")]):_c('button',{staticClass:\"primbutton primbutton__followed\",class:{primbutton__followed_processing: _vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowship(_vm.user.id)}}},[_vm._v(\"取消跟隨\")])]):_vm._e()]),_c('div',{staticClass:\"follow-user__description\"},[_vm._v(\" \"+_vm._s(_vm.user.introduction)+\" \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <router-link \n    :to=\"{ name: 'user-detail', params: {id: user.id}, query: {tab: 'tweet'}}\" \n    class=\"follow-user\">\n\n        <div class=\"tweet__avatar\">\n            <img class=\"tweet__avatar--photo\" :src=\"user.profilePhoto | emptyImage\" alt=\"\">\n        </div>\n\n        <div class=\"tweet__info\">\n            <div class=\"follow-user__info\">\n                <span>{{ user.name }}</span>\n            <!-- 按鈕區 -->\n                <div v-if=\"user.id !== currentUser.id\">\n                    <button \n                    @click.stop.prevent=\"addFollowship(user.id)\" \n                    v-if=\"!user.isFollowed\" \n                    class=\"primbutton primbutton__unfollowed\" :class=\"{primbutton__unfollowed_processing: isProcessing}\">跟隨</button>\n                    <button \n                    @click.stop.prevent=\"deleteFollowship(user.id)\" v-else \n                    class=\"primbutton primbutton__followed\" :class=\"{primbutton__followed_processing: isProcessing}\">取消跟隨</button>\n                </div>\n            </div>\n            <div class=\"follow-user__description\">\n                {{ user.introduction }}\n            </div>\n        </div>\n    </router-link>\n</template>\n\n<script>\nimport followshipsAPI from '../apis/followships.js'\nimport { Toast, innerHtml } from '../utils/helpers.js'\nimport { emptyImageFilter } from '../utils/mixins.js'\nimport { mapState } from 'vuex'\n\n\nexport default {\n    props: {\n        initFollower: {\n            type: Object\n        }\n    },\n    mixins:[emptyImageFilter],\n    data() {\n        return {\n            user: this.initFollower,\n            isProcessing: false\n        }\n    },\n    watch: {\n        initFollower (newValue) {\n            this.user = {\n                ...this.user,\n                ...newValue\n            }\n        }\n    },\n    computed: {\n        ...mapState(['currentUser', 'isAuthenticated']),\n\n    },\n    methods: {\n        async addFollowship (id) {\n            if (id === this.currentUser.id) {\n                return Toast.fire({\n                    html: innerHtml('無法追蹤自己','error')\n                })\n            }\n            try{\n                if (this.isProcessing) return\n                this.isProcessing = true\n\n                const response = await followshipsAPI.addFollowship({id})\n                console.log(response)\n\n                if (response.status !==  200) {\n                    throw new Error(response.data.message)\n                }\n                this.user = {\n                    ...this.user,\n                    isFollowed: true\n                }\n                this.$emit('after-like-user', this.user)\n                this.isProcessing = false\n            }\n            catch(error) {\n                const message = error.response.data.message\n                this.isProcessing = false\n                console.log(message)\n                return Toast.fire({\n                    html: innerHtml(message,'error')\n                })\n            }\n\n        },\n        async deleteFollowship (followingId) {\n            try{\n                if (this.isProcessing) return\n                this.isProcessing = true\n\n                const response = await followshipsAPI.deleteFollowship({followingId})\n                if (response.status !==  200) {\n                    throw new Error(response.data.message)\n                }\n                this.user = {\n                    ...this.user,\n                    isFollowed: false\n                }\n                this.$emit('after-like-user', this.user)\n                this.isProcessing = false\n            }\n            catch(error) {\n                const message = error.response.data.message\n                this.isProcessing = false\n                console.log(message)\n                return Toast.fire({\n                    html: innerHtml(message,'error')\n                })\n            }\n        },\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowCard.vue?vue&type=template&id=32d792af&\"\nimport script from \"./UserFollowCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"twitter__project\"\n    :class=\"{modal__toggled: isModalToggled}\">\n        <div class=\"container\">\n            <section class=\"left__container\">\n                <SideBar :current-page=\"`user`\" :ini-is-modal-toggled=\"isModalToggled\"\n                @after-toggle-modal=\"handleToggleModal\"/>\n            </section>\n            <main class=\"main__container\">\n                <transition name=\"modal\">\n                    <MainTweetModal v-if=\"isModalToggled\"\n                @after-submit-close=\"handleCloseModal\"/>\n                </transition>\n                \n                \n                <UserHeader :content=\"currentUser.name\" :counts=\"25\"/>\n                <HomeTabs \n                :clicked-tab=\"currentTab\"\n                @after-click-tab=\"handleClickTab\"/>\n\n            <template v-if=\"!isLoading\">\n\n            \n                <div v-if=\"currentTab==='follower'\" \n                class=\"tweets__container\">\n                    <p v-if=\"currentTab==='follower' && !followers.length\">目前還沒有追隨者喔</p>\n                    <UserFollowCard \n                    v-for=\"user in followers\" \n                    :key=\"user.id\"\n                    :init-follower=\"user\"/>\n                </div>\n\n                <div v-if=\"currentTab==='following'\" \n                class=\"tweets__container\">\n                    <p v-if=\"currentTab==='following' && !followings.length\">目前還沒有追隨任何人喔</p>\n                    <UserFollowCard \n                    v-for=\"user in followings\" \n                    :key=\"user.id\"\n                    :init-follower=\"user\"/>\n                </div>\n                \n            </template>\n            <Spinner v-else/>\n            </main>\n            <section class=\"right__container\">\n                <RecommendUsers />\n            </section>\n\n            <transition :duration=\"{ enter: 350, leave: 150 }\">\n            <div class=\"modal__mask\" @click.stop.prevent=\"handleCloseModal\" v-if=\"isModalToggled\"\n            >\n            </div>\n            </transition>\n            \n        </div>\n        <Footer :current-page=\"`user`\"\n        :ini-is-modal-toggled=\"isModalToggled\"\n        @after-toggle-modal=\"handleToggleModal\"/>\n    </div>\n</template>\n\n<script>\nimport SideBar from '../components/SideBar.vue'\nimport RecommendUsers from '../components/RecommendUsers.vue'\nimport UserHeader from '../components/UserHeader.vue'\nimport UserFollowCard from '../components/UserFollowCard.vue'\nimport MainTweetModal from '../components/MainTweetModal.vue'\nimport HomeTabs from '../components/HomeTabs.vue'\nimport Footer from '../components/Footer.vue'\nimport usersAPI from '../apis/users.js'\nimport { Toast, innerHtml } from '../utils/helpers.js'\nimport { mapState } from 'vuex'\nimport Spinner from '../components/Spinner.vue'\n\nexport default {\n    components: {\n        SideBar,\n        RecommendUsers,\n        UserHeader,\n        MainTweetModal,\n        UserFollowCard,\n        HomeTabs,\n        Footer,\n        Spinner\n    },\n    data () {\n        return {\n            userId: '',\n            followers: [],\n            followings: [],\n            isModalToggled: false,\n            isLoading: true,\n            currentTab: \"follower\",\n        }\n    },\n    created () {\n        const { id } = this.$route.params\n        this.userId = id\n        this.getUrl()\n        if (this.currentTab === 'follower') {\n            this.fetchFollower(id)\n        }\n        else if (this.currentTab === 'following') {\n            this.fetchFollowing(id)\n        }\n    },\n    beforeRouteUpdate(to, from, next){\n        this.isLoading = true\n        const {id} = to.params\n        this.getUrl()\n        if (this.currentTab === 'follower') {\n            this.fetchFollower(id)\n        }\n        else if (this.currentTab === 'following') {\n            this.fetchFollowing(id)\n        }\n        next()\n    },\n    computed: {\n        ...mapState(['currentUser', 'isAuthenticated']),\n    },\n    methods: {\n        async fetchFollower (userId) {\n            try {\n                this.isLoading = true\n                const { data } = await usersAPI.getUserFollowrs({userId})\n                this.followers = [...data]\n                this.isLoading = false\n            }\n            catch (error) {\n                console.log(error.message)\n                this.isLoading = false\n                Toast.fire({\n                    html: innerHtml('無法取得追隨者清單，請稍後再試','error')\n                })\n            }\n        },\n        async fetchFollowing (userId) {\n            try {\n                this.isLoading = true\n                const { data } = await usersAPI.getUserFollowings({userId})\n                this.followings = [...data]\n                this.isLoading = false\n            }\n            catch (error) {\n                console.log(error.message)\n                this.isLoading = false\n                Toast.fire({\n                    html: innerHtml('無法取得追隨者清單，請稍後再試','error')\n                })\n            }\n        },\n        handleToggleModal(isModalToggled){\n            this.isModalToggled = isModalToggled\n            history.pushState({ name: \"new-tweet\" }, null, \"/#/tweets/new\");\n        },\n        handleCloseModal(){\n            this.isModalToggled = false\n        },\n        handleClickTab (clickedTab) {\n            this.currentTab = clickedTab\n            if (clickedTab === 'follower') {\n                this.fetchFollower(this.userId)\n                history.replaceState({ name: \"user-follower\" }, null, `/#/users/${this.userId}/follower`)\n            }\n            else if (clickedTab === 'following') {\n                this.fetchFollowing(this.userId)\n                history.replaceState({ name: \"user-following\" }, null, `/#/users/${this.userId}/following`);\n            }\n        },\n        getUrl() {\n            console.log(this.$route.matched[0])\n            if(this.$route.matched[0].name === 'user-follower') {\n                this.currentTab = 'follower'\n            }\n            else if(this.$route.matched[0].name === 'user-following') {\n                this.currentTab = 'following'\n            }\n        }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Follow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Follow.vue?vue&type=template&id=4cbe5804&\"\nimport script from \"./Follow.vue?vue&type=script&lang=js&\"\nexport * from \"./Follow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}